!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function f(){return t.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){for(var s=[],i=0;i<t.length;++i)s.push(e(t[i],i));return s}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var s in e)p(e,s)&&(t[s]=e[s]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,s,i){return ke(t,e,s,i,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=m(t),s=i.call(e.parsedDateParts,function(t){return null!=t}),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s);if(t._strict&&(s=s&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return s;t._isValid=s}return t._isValid}function _(t){var e=h(NaN);return null!=t?u(m(e),t):m(e).userInvalidated=!0,e}var i=Array.prototype.some||function(t){for(var e=Object(this),s=e.length>>>0,i=0;i<s;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},v=f.momentProperties=[];function y(t,e){var s,i,n;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=m(e)),o(e._locale)||(t._locale=e._locale),0<v.length)for(s=0;s<v.length;s++)o(n=e[i=v[s]])||(t[i]=n);return t}var e=!1;function w(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,f.updateOffset(this),e=!1)}function D(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,t=0;return t=0!=e&&isFinite(e)?b(e):t}function k(t,e,s){for(var i=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),o=0,a=0;a<i;a++)(s&&t[a]!==e[a]||!s&&S(t[a])!==S(e[a]))&&o++;return o+n}function O(t){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(n,o){var a=!0;return u(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,n),a){for(var t,e=[],s=0;s<arguments.length;s++){if(t="","object"==typeof arguments[s]){for(var i in t+="\n["+s+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[s];e.push(t)}O(n+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var n={};function M(t,e){null!=f.deprecationHandler&&f.deprecationHandler(t,e),n[t]||(O(e),n[t]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function Y(t,e){var s,i=u({},t);for(s in e)p(e,s)&&(r(t[s])&&r(e[s])?(i[s]={},u(i[s],t[s]),u(i[s],e[s])):null!=e[s]?i[s]=e[s]:delete i[s]);for(s in t)p(t,s)&&!p(e,s)&&r(t[s])&&(i[s]=u({},i[s]));return i}function C(t){null!=t&&this.set(t)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var L=Object.keys||function(t){var e,s=[];for(e in t)p(t,e)&&s.push(e);return s},T={};function I(t,e){var s=t.toLowerCase();T[s]=T[s+"s"]=T[e]=t}function F(t){return"string"==typeof t?T[t]||T[t.toLowerCase()]:void 0}function A(t){var e,s,i={};for(s in t)p(t,s)&&(e=F(s))&&(i[e]=t[s]);return i}var E={};function P(t,e){E[t]=e}function N(t,e,s){var i=""+Math.abs(t);return(0<=t?s?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var V=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},H={};function j(t,e,s,i){var n="string"==typeof i?function(){return this[i]()}:i;t&&(H[t]=n),e&&(H[e[0]]=function(){return N(n.apply(this,arguments),e[1],e[2])}),s&&(H[s]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function q(t,e){return t.isValid()?(e=U(e,t.localeData()),W[e]=W[e]||function(i){for(var t,n=i.match(V),e=0,o=n.length;e<o;e++)H[n[e]]?n[e]=H[n[e]]:n[e]=(t=n[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",s=0;s<o;s++)e+=x(n[s])?n[s].call(t,i):n[s];return e}}(e),W[e](t)):t.localeData().invalidDate()}function U(t,e){var s=5;function i(t){return e.longDateFormat(t)||t}for(R.lastIndex=0;0<=s&&R.test(t);)t=t.replace(R,i),R.lastIndex=0,--s;return t}var G=/\d/,B=/\d\d/,z=/\d{3}/,$=/\d{4}/,Z=/[+-]?\d{6}/,K=/\d\d?/,Q=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,X=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,st=/\d+/,it=/[+-]?\d+/,nt=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rt={};function lt(t,s,i){rt[t]=x(s)?s:function(t,e){return t&&i?i:s}}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ct={};function ut(t,s){var e,i=s;for("string"==typeof t&&(t=[t]),l(s)&&(i=function(t,e){e[s]=S(t)}),e=0;e<t.length;e++)ct[t[e]]=i}function ht(t,n){ut(t,function(t,e,s,i){s._w=s._w||{},n(t,s._w,s,i)})}var pt=0,ft=1,mt=2,gt=3,_t=4,vt=5,yt=6,wt=7,Dt=8;function bt(t){return St(t)?366:365}function St(t){return t%4==0&&t%100!=0||t%400==0}j("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),I("year","y"),P("year",1),lt("Y",it),lt("YY",K,B),lt("YYYY",tt,$),lt("YYYYY",et,Z),lt("YYYYYY",et,Z),ut(["YYYYY","YYYYYY"],pt),ut("YYYY",function(t,e){e[pt]=2===t.length?f.parseTwoDigitYear(t):S(t)}),ut("YY",function(t,e){e[pt]=f.parseTwoDigitYear(t)}),ut("Y",function(t,e){e[pt]=parseInt(t,10)}),f.parseTwoDigitYear=function(t){return S(t)+(68<S(t)?1900:2e3)};var kt,Ot=Mt("FullYear",!0);function Mt(e,s){return function(t){return null!=t?(Yt(this,e,t),f.updateOffset(this,s),this):xt(this,e)}}function xt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Yt(t,e,s){t.isValid()&&!isNaN(s)&&("FullYear"===e&&St(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](s,t.month(),Ct(s,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](s))}function Ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var s=(e%12+12)%12;return t+=(e-s)/12,1==s?St(t)?29:28:31-s%7%2}kt=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),j("MMMM",0,0,function(t){return this.localeData().months(this,t)}),I("month","M"),P("month",8),lt("M",K),lt("MM",K,B),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),ut(["M","MM"],function(t,e){e[ft]=S(t)-1}),ut(["MMM","MMMM"],function(t,e,s,i){i=s._locale.monthsParse(t,i,s._strict);null!=i?e[ft]=i:m(s).invalidMonth=t});var Lt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),It="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ft(t,e){var s;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return s=Math.min(t.date(),Ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,s),t}function At(t){return null!=t?(Ft(this,t),f.updateOffset(this,!0),this):xt(this,"Month")}var Et=at,Pt=at;function Nt(){function t(t,e){return e.length-t.length}for(var e,s=[],i=[],n=[],o=0;o<12;o++)e=h([2e3,o]),s.push(this.monthsShort(e,"")),i.push(this.months(e,"")),n.push(this.months(e,"")),n.push(this.monthsShort(e,""));for(s.sort(t),i.sort(t),n.sort(t),o=0;o<12;o++)s[o]=dt(s[o]),i[o]=dt(i[o]);for(o=0;o<24;o++)n[o]=dt(n[o]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Vt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Rt(t,e,s){s=7+e-s;return-(7+Vt(t,0,s).getUTCDay()-e)%7+s-1}function Wt(t,e,s,i,n){var o,n=1+7*(e-1)+(7+s-i)%7+Rt(t,i,n),n=n<=0?bt(o=t-1)+n:n>bt(t)?(o=t+1,n-bt(t)):(o=t,n);return{year:o,dayOfYear:n}}function Ht(t,e,s){var i,n,o=Rt(t.year(),e,s),o=Math.floor((t.dayOfYear()-o-1)/7)+1;return o<1?i=o+jt(n=t.year()-1,e,s):o>jt(t.year(),e,s)?(i=o-jt(t.year(),e,s),n=t.year()+1):(n=t.year(),i=o),{week:i,year:n}}function jt(t,e,s){var i=Rt(t,e,s),s=Rt(t+1,e,s);return(bt(t)-i+s)/7}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),P("week",5),P("isoWeek",5),lt("w",K),lt("ww",K,B),lt("W",K),lt("WW",K,B),ht(["w","ww","W","WW"],function(t,e,s,i){e[i.substr(0,1)]=S(t)}),j("d",0,"do","day"),j("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),j("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),j("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),lt("d",K),lt("e",K),lt("E",K),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),ht(["dd","ddd","dddd"],function(t,e,s,i){i=s._locale.weekdaysParse(t,i,s._strict);null!=i?e.d=i:m(s).invalidWeekday=t}),ht(["d","e","E"],function(t,e,s,i){e[i]=S(t)});var qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Bt=at,zt=at,$t=at;function Zt(){function t(t,e){return e.length-t.length}for(var e,s,i,n=[],o=[],a=[],r=[],l=0;l<7;l++)i=h([2e3,1]).day(l),e=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),i=this.weekdays(i,""),n.push(e),o.push(s),a.push(i),r.push(e),r.push(s),r.push(i);for(n.sort(t),o.sort(t),a.sort(t),r.sort(t),l=0;l<7;l++)o[l]=dt(o[l]),a[l]=dt(a[l]),r[l]=dt(r[l]);this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Qt(t,e){j(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Jt(t,e){return e._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Kt),j("k",["kk",2],0,function(){return this.hours()||24}),j("hmm",0,0,function(){return""+Kt.apply(this)+N(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Kt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),Qt("a",!0),Qt("A",!1),I("hour","h"),P("hour",13),lt("a",Jt),lt("A",Jt),lt("H",K),lt("h",K),lt("k",K),lt("HH",K,B),lt("hh",K,B),lt("kk",K,B),lt("hmm",Q),lt("hmmss",J),lt("Hmm",Q),lt("Hmmss",J),ut(["H","HH"],gt),ut(["k","kk"],function(t,e,s){t=S(t);e[gt]=24===t?0:t}),ut(["a","A"],function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t}),ut(["h","hh"],function(t,e,s){e[gt]=S(t),m(s).bigHour=!0}),ut("hmm",function(t,e,s){var i=t.length-2;e[gt]=S(t.substr(0,i)),e[_t]=S(t.substr(i)),m(s).bigHour=!0}),ut("hmmss",function(t,e,s){var i=t.length-4,n=t.length-2;e[gt]=S(t.substr(0,i)),e[_t]=S(t.substr(i,2)),e[vt]=S(t.substr(n)),m(s).bigHour=!0}),ut("Hmm",function(t,e,s){var i=t.length-2;e[gt]=S(t.substr(0,i)),e[_t]=S(t.substr(i))}),ut("Hmmss",function(t,e,s){var i=t.length-4,n=t.length-2;e[gt]=S(t.substr(0,i)),e[_t]=S(t.substr(i,2)),e[vt]=S(t.substr(n))});var Xt,te=Mt("Hours",!0),ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:It,week:{dow:0,doy:6},weekdays:qt,weekdaysMin:Gt,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},se={},ie={};function ne(t){return t&&t.toLowerCase().replace("_","-")}function oe(t){var e;if(!se[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Xt._abbr,require("./locale/"+t),ae(e)}catch(t){}return se[t]}function ae(t,e){return t&&((e=o(e)?le(t):re(t,e))?Xt=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Xt._abbr}function re(t,e){if(null===e)return delete se[t],null;var s,i=ee;if(e.abbr=t,null!=se[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=se[t]._config;else if(null!=e.parentLocale)if(null!=se[e.parentLocale])i=se[e.parentLocale]._config;else{if(null==(s=oe(e.parentLocale)))return ie[e.parentLocale]||(ie[e.parentLocale]=[]),ie[e.parentLocale].push({name:t,config:e}),null;i=s._config}return se[t]=new C(Y(i,e)),ie[t]&&ie[t].forEach(function(t){re(t.name,t.config)}),ae(t),se[t]}function le(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return Xt;if(!a(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,s,i,n,o=0;o<t.length;){for(e=(n=ne(t[o]).split("-")).length,s=(s=ne(t[o+1]))?s.split("-"):null;0<e;){if(i=oe(n.slice(0,e).join("-")))return i;if(s&&s.length>=e&&k(n,s,!0)>=e-1)break;e--}o++}return Xt}(t)}function de(t){var e=t._a;return e&&-2===m(t).overflow&&(e=e[ft]<0||11<e[ft]?ft:e[mt]<1||e[mt]>Ct(e[pt],e[ft])?mt:e[gt]<0||24<e[gt]||24===e[gt]&&(0!==e[_t]||0!==e[vt]||0!==e[yt])?gt:e[_t]<0||59<e[_t]?_t:e[vt]<0||59<e[vt]?vt:e[yt]<0||999<e[yt]?yt:-1,m(t)._overflowDayOfYear&&(e<pt||mt<e)&&(e=mt),m(t)._overflowWeeks&&-1===e&&(e=wt),m(t)._overflowWeekday&&-1===e&&(e=Dt),m(t).overflow=e),t}function ce(t,e,s){return null!=t?t:null!=e?e:s}function ue(t){var e,s,i,n,o,a,r,l,d,c=[];if(!t._d){var u=t,h=new Date(f.now()),p=u._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()];for(t._w&&null==t._a[mt]&&null==t._a[ft]&&(null!=(u=(i=t)._w).GG||null!=u.W||null!=u.E?(a=1,r=4,l=ce(u.GG,i._a[pt],Ht(Oe(),1,4).year),d=ce(u.W,1),((n=ce(u.E,1))<1||7<n)&&(o=!0)):(a=i._locale._week.dow,r=i._locale._week.doy,h=Ht(Oe(),a,r),l=ce(u.gg,i._a[pt],h.year),d=ce(u.w,h.week),null!=u.d?((n=u.d)<0||6<n)&&(o=!0):null!=u.e?(n=u.e+a,(u.e<0||6<u.e)&&(o=!0)):n=a),d<1||d>jt(l,a,r)?m(i)._overflowWeeks=!0:null!=o?m(i)._overflowWeekday=!0:(r=Wt(l,d,n,a,r),i._a[pt]=r.year,i._dayOfYear=r.dayOfYear)),null!=t._dayOfYear&&(s=ce(t._a[pt],p[pt]),(t._dayOfYear>bt(s)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),s=Vt(s,0,t._dayOfYear),t._a[ft]=s.getUTCMonth(),t._a[mt]=s.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=c[e]=p[e];for(;e<7;e++)t._a[e]=c[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[gt]&&0===t._a[_t]&&0===t._a[vt]&&0===t._a[yt]&&(t._nextDay=!0,t._a[gt]=0),t._d=(t._useUTC?Vt:function(t,e,s,i,n,o,a){a=new Date(t,e,s,i,n,o,a);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,c),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[gt]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(m(t).weekdayMismatch=!0)}}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ge=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_e=/^\/?Date\((\-?\d+)/i;function ve(t){var e,s,i,n,o,a,r=t._i,l=he.exec(r)||pe.exec(r);if(l){for(m(t).iso=!0,e=0,s=me.length;e<s;e++)if(me[e][1].exec(l[1])){n=me[e][0],i=!1!==me[e][2];break}if(null==n)return t._isValid=!1;if(l[3]){for(e=0,s=ge.length;e<s;e++)if(ge[e][1].exec(l[3])){o=(l[2]||" ")+ge[e][0];break}if(null==o)return t._isValid=!1}if(!i&&null!=o)return t._isValid=!1;if(l[4]){if(!fe.exec(l[4]))return t._isValid=!1;a="Z"}t._f=n+(o||"")+(a||""),be(t)}else t._isValid=!1}var ye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var we={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function De(t){var e,s,i,n,o,a,r=ye.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));r?(e=r[4],s=r[3],i=r[2],n=r[5],o=r[6],a=r[7],o=[(e=parseInt(e,10))<=49?2e3+e:e<=999?1900+e:e,It.indexOf(s),parseInt(i,10),parseInt(n,10),parseInt(o,10)],a&&o.push(parseInt(a,10)),n=i=o,a=t,(o=r[1])&&Ut.indexOf(o)!==new Date(n[0],n[1],n[2]).getDay()?(m(a).weekdayMismatch=!0,a._isValid=!1):(t._a=i,t._tzm=function(t,e,s){if(t)return we[t];if(e)return 0;e=parseInt(s,10),s=e%100;return(e-s)/100*60+s}(r[8],r[9],r[10]),t._d=Vt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0)):t._isValid=!1}function be(t){if(t._f!==f.ISO_8601)if(t._f!==f.RFC_2822){t._a=[],m(t).empty=!0;for(var e,s,i,n=""+t._i,o=n.length,a=0,r=U(t._f,t._locale).match(V)||[],l=0;l<r.length;l++)s=r[l],(e=(n.match((h=t,p(rt,u=s)?rt[u](h._strict,h._locale):new RegExp(dt(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,s,i,n){return e||s||i||n})))))||[])[0])&&(0<(i=n.substr(0,n.indexOf(e))).length&&m(t).unusedInput.push(i),n=n.slice(n.indexOf(e)+e.length),a+=e.length),H[s]?(e?m(t).empty=!1:m(t).unusedTokens.push(s),h=s,u=t,null!=(i=e)&&p(ct,h)&&ct[h](i,u._a,u,h)):t._strict&&!e&&m(t).unusedTokens.push(s);m(t).charsLeftOver=o-a,0<n.length&&m(t).unusedInput.push(n),t._a[gt]<=12&&!0===m(t).bigHour&&0<t._a[gt]&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[gt]=(d=t._locale,c=t._a[gt],null==(o=t._meridiem)?c:null!=d.meridiemHour?d.meridiemHour(c,o):(null!=d.isPM&&((o=d.isPM(o))&&c<12&&(c+=12),o||12!==c||(c=0)),c)),ue(t),de(t)}else De(t);else ve(t);var d,c,u,h}function Se(t){var e,s,i=t._i,n=t._f;return t._locale=t._locale||le(t._l),null===i||void 0===n&&""===i?_({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),D(i)?new w(de(i)):(d(i)?t._d=i:a(n)?function(t){var e,s,i,n,o;if(0===t._f.length)return m(t).invalidFormat=!0,t._d=new Date(NaN);for(n=0;n<t._f.length;n++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],be(e),g(e)&&(o+=m(e).charsLeftOver,o+=10*m(e).unusedTokens.length,m(e).score=o,(null==i||o<i)&&(i=o,s=e));u(t,s||e)}(t):n?be(t):o(n=(i=t)._i)?i._d=new Date(f.now()):d(n)?i._d=new Date(n.valueOf()):"string"==typeof n?null===(s=_e.exec((e=i)._i))?(ve(e),!1===e._isValid&&(delete e._isValid,De(e),!1===e._isValid&&(delete e._isValid,f.createFromInputFallback(e)))):e._d=new Date(+s[1]):a(n)?(i._a=c(n.slice(0),function(t){return parseInt(t,10)}),ue(i)):r(n)?(e=i)._d||(s=A(e._i),e._a=c([s.year,s.month,s.day||s.date,s.hour,s.minute,s.second,s.millisecond],function(t){return t&&parseInt(t,10)}),ue(e)):l(n)?i._d=new Date(n):f.createFromInputFallback(i),g(t)||(t._d=null),t))}function ke(t,e,s,i,n){var o={};return!0!==s&&!1!==s||(i=s,s=void 0),(r(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return;return 1}(t)||a(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=n,o._l=s,o._i=t,o._f=e,o._strict=i,(o=new w(de(Se(o))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Oe(t,e,s,i){return ke(t,e,s,i,!1)}f.createFromInputFallback=s("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};var Me=s("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Oe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),xe=s("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Oe.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:_()});function Ye(t,e){var s,i;if(!(e=1===e.length&&a(e[0])?e[0]:e).length)return Oe();for(s=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](s)||(s=e[i]);return s}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Le(t){var e=A(t),s=e.year||0,i=e.quarter||0,n=e.month||0,o=e.week||0,a=e.day||0,r=e.hour||0,l=e.minute||0,d=e.second||0,t=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===kt.call(Ce,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var s=!1,i=0;i<Ce.length;++i)if(t[Ce[i]]){if(s)return!1;parseFloat(t[Ce[i]])!==S(t[Ce[i]])&&(s=!0)}return!0}(e),this._milliseconds=+t+1e3*d+6e4*l+1e3*r*60*60,this._days=+a+7*o,this._months=+n+3*i+12*s,this._data={},this._locale=le(),this._bubble()}function Te(t){return t instanceof Le}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Fe(t,s){j(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+N(~~(t/60),2)+s+N(~~t%60,2)})}Fe("Z",":"),Fe("ZZ",""),lt("Z",ot),lt("ZZ",ot),ut(["Z","ZZ"],function(t,e,s){s._useUTC=!0,s._tzm=Ee(ot,t)});var Ae=/([\+\-]|\d\d)/gi;function Ee(t,e){e=(e||"").match(t);if(null===e)return null;t=((e[e.length-1]||[])+"").match(Ae)||["-",0,0],e=60*t[1]+S(t[2]);return 0===e?0:"+"===t[0]?e:-e}function Pe(t,e){var s;return e._isUTC?(s=e.clone(),e=(D(t)||d(t)?t:Oe(t)).valueOf()-s.valueOf(),s._d.setTime(s._d.valueOf()+e),f.updateOffset(s,!1),s):Oe(t).local()}function Ne(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}f.updateOffset=function(){};var Re=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,We=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function He(t,e){var s,i,n=t,o=null;return Te(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(n={},e?n[e]=t:n.milliseconds=t):(o=Re.exec(t))?(s="-"===o[1]?-1:1,n={y:0,d:S(o[mt])*s,h:S(o[gt])*s,m:S(o[_t])*s,s:S(o[vt])*s,ms:S(Ie(1e3*o[yt]))*s}):(o=We.exec(t))?(s="-"===o[1]?-1:(o[1],1),n={y:je(o[2],s),M:je(o[3],s),w:je(o[4],s),d:je(o[5],s),h:je(o[6],s),m:je(o[7],s),s:je(o[8],s)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=Oe(n.from),s=Oe(n.to),i=o.isValid()&&s.isValid()?(s=Pe(s,o),o.isBefore(s)?i=qe(o,s):((i=qe(s,o)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0},(n={}).ms=i.milliseconds,n.M=i.months),n=new Le(n),Te(t)&&p(t,"_locale")&&(n._locale=t._locale),n}function je(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function qe(t,e){var s={milliseconds:0,months:0};return s.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function Ue(i,n){return function(t,e){var s;return null===e||isNaN(+e)||(M(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=e,e=s),Ge(this,He(t="string"==typeof t?+t:t,e),i),this}}function Ge(t,e,s,i){var n=e._milliseconds,o=Ie(e._days),e=Ie(e._months);t.isValid()&&(i=null==i||i,e&&Ft(t,xt(t,"Month")+e*s),o&&Yt(t,"Date",xt(t,"Date")+o*s),n&&t._d.setTime(t._d.valueOf()+n*s),i&&f.updateOffset(t,o||e))}He.fn=Le.prototype,He.invalid=function(){return He(NaN)};at=Ue(1,"add"),Q=Ue(-1,"subtract");function Be(t,e){var s=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(s,"months");return-(s+(e-i<0?(e-i)/(i-t.clone().add(s-1,"months")):(e-i)/(t.clone().add(1+s,"months")-i)))||0}function ze(t){return void 0===t?this._locale._abbr:(null!=(t=le(t))&&(this._locale=t),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";J=s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function $e(){return this._locale}function Ze(t,e){j(0,[t,t.length],0,e)}function Ke(t,e,s,i,n){var o;return null==t?Ht(this,i,n).year:((o=jt(t,i,n))<e&&(e=o),function(t,e,s,i,n){n=Wt(t,e,s,i,n),n=Vt(n.year,0,n.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}.call(this,t,e,s,i,n))}j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ze("gggg","weekYear"),Ze("ggggg","weekYear"),Ze("GGGG","isoWeekYear"),Ze("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),lt("G",it),lt("g",it),lt("GG",K,B),lt("gg",K,B),lt("GGGG",tt,$),lt("gggg",tt,$),lt("GGGGG",et,Z),lt("ggggg",et,Z),ht(["gggg","ggggg","GGGG","GGGGG"],function(t,e,s,i){e[i.substr(0,2)]=S(t)}),ht(["gg","GG"],function(t,e,s,i){e[i]=f.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),I("quarter","Q"),P("quarter",7),lt("Q",G),ut("Q",function(t,e){e[ft]=3*(S(t)-1)}),j("D",["DD",2],"Do","date"),I("date","D"),P("date",9),lt("D",K),lt("DD",K,B),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ut(["D","DD"],mt),ut("Do",function(t,e){e[mt]=S(t.match(K)[0])});Tt=Mt("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),P("dayOfYear",4),lt("DDD",X),lt("DDDD",z),ut(["DDD","DDDD"],function(t,e,s){s._dayOfYear=S(t)}),j("m",["mm",2],0,"minute"),I("minute","m"),P("minute",14),lt("m",K),lt("mm",K,B),ut(["m","mm"],_t);qt=Mt("Minutes",!1);j("s",["ss",2],0,"second"),I("second","s"),P("second",15),lt("s",K),lt("ss",K,B),ut(["s","ss"],vt);var Qe,Gt=Mt("Seconds",!1);for(j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),P("millisecond",16),lt("S",X,G),lt("SS",X,B),lt("SSS",X,z),Qe="SSSS";Qe.length<=9;Qe+="S")lt(Qe,st);function Je(t,e){e[yt]=S(1e3*("0."+t))}for(Qe="S";Qe.length<=9;Qe+="S")ut(Qe,Je);tt=Mt("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");$=w.prototype;function Xe(t){return t}$.add=at,$.calendar=function(t,e){var s=t||Oe(),t=Pe(s,this).startOf("day"),t=f.calendarFormat(this,t)||"sameElse",e=e&&(x(e[t])?e[t].call(this,s):e[t]);return this.format(e||this.localeData().calendar(t,this,Oe(s)))},$.clone=function(){return new w(this)},$.diff=function(t,e,s){var i,n,o;if(!this.isValid())return NaN;if(!(i=Pe(t,this)).isValid())return NaN;switch(n=6e4*(i.utcOffset()-this.utcOffset()),e=F(e)){case"year":o=Be(this,i)/12;break;case"month":o=Be(this,i);break;case"quarter":o=Be(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-n)/864e5;break;case"week":o=(this-i-n)/6048e5;break;default:o=this-i}return s?o:b(o)},$.endOf=function(t){return void 0===(t=F(t))||"millisecond"===t?this:this.startOf(t="date"===t?"day":t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},$.format=function(t){t=t||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat);t=q(this,t);return this.localeData().postformat(t)},$.from=function(t,e){return this.isValid()&&(D(t)&&t.isValid()||Oe(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},$.fromNow=function(t){return this.from(Oe(),t)},$.to=function(t,e){return this.isValid()&&(D(t)&&t.isValid()||Oe(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},$.toNow=function(t){return this.to(Oe(),t)},$.get=function(t){return x(this[t=F(t)])?this[t]():this},$.invalidAt=function(){return m(this).overflow},$.isAfter=function(t,e){t=D(t)?t:Oe(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=F(o(e)?"millisecond":e))?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},$.isBefore=function(t,e){t=D(t)?t:Oe(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=F(o(e)?"millisecond":e))?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},$.isBetween=function(t,e,s,i){return("("===(i=i||"()")[0]?this.isAfter(t,s):!this.isBefore(t,s))&&(")"===i[1]?this.isBefore(e,s):!this.isAfter(e,s))},$.isSame=function(t,e){var t=D(t)?t:Oe(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=F(e||"millisecond"))?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},$.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},$.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},$.isValid=function(){return g(this)},$.lang=J,$.locale=ze,$.localeData=$e,$.max=xe,$.min=Me,$.parsingFlags=function(){return u({},m(this))},$.set=function(s,t){if("object"==typeof s)for(var e=function(){var t,e=[];for(t in s=A(s))e.push({unit:t,priority:E[t]});return e.sort(function(t,e){return t.priority-e.priority}),e}(),i=0;i<e.length;i++)this[e[i].unit](s[e[i].unit]);else if(x(this[s=F(s)]))return this[s](t);return this},$.startOf=function(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},$.subtract=Q,$.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},$.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},$.toDate=function(){return new Date(this.valueOf())},$.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,t=e?this.clone().utc():this;return t.year()<0||9999<t.year()?q(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(t,"Z")):q(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},$.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var s="["+t+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(s+t+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},$.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},$.year=Ot,$.isLeapYear=function(){return St(this.year())},$.weekYear=function(t){return Ke.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},$.isoWeekYear=function(t){return Ke.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},$.quarter=$.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},$.month=At,$.daysInMonth=function(){return Ct(this.year(),this.month())},$.week=$.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},$.isoWeek=$.isoWeeks=function(t){var e=Ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},$.weeksInYear=function(){var t=this.localeData()._week;return jt(this.year(),t.dow,t.doy)},$.isoWeeksInYear=function(){return jt(this.year(),1,4)},$.date=Tt,$.day=$.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,s,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,s=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=s.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},$.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},$.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,e=(e=t,t=this.localeData(),"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?e:e-7)},$.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},$.hour=$.hours=te,$.minute=$.minutes=qt,$.second=$.seconds=Gt,$.millisecond=$.milliseconds=tt,$.utcOffset=function(t,e,s){var i,n=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?n:Ne(this);if("string"==typeof t){if(null===(t=Ee(ot,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&e&&(i=Ne(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?Ge(this,He(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},$.utc=function(t){return this.utcOffset(0,t)},$.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ne(this),"m")),this},$.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ee(nt,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},$.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Oe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},$.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},$.isLocal=function(){return!!this.isValid()&&!this._isUTC},$.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},$.isUtc=Ve,$.isUTC=Ve,$.zoneAbbr=function(){return this._isUTC?"UTC":""},$.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},$.dates=s("dates accessor is deprecated. Use date instead.",Tt),$.months=s("months accessor is deprecated. Use month instead",At),$.years=s("years accessor is deprecated. Use year instead",Ot),$.zone=s("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),$.isDSTShifted=s("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t,e={};return y(e,this),(e=Se(e))._a?(t=(e._isUTC?h:Oe)(e._a),this._isDSTShifted=this.isValid()&&0<k(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted});et=C.prototype;function ts(t,e,s,i){var n=le(),e=h().set(i,e);return n[s](e,t)}function es(t,e,s){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return ts(t,e,s,"month");for(var i=[],n=0;n<12;n++)i[n]=ts(t,n,s,"month");return i}function ss(t,e,s,i){"boolean"==typeof t?l(e)&&(s=e,e=void 0):(e=t,t=!1,l(s=e)&&(s=e,e=void 0)),e=e||"";var n=le(),o=t?n._week.dow:0;if(null!=s)return ts(e,(s+o)%7,i,"day");for(var a=[],r=0;r<7;r++)a[r]=ts(e,(r+o)%7,i,"day");return a}et.calendar=function(t,e,s){t=this._calendar[t]||this._calendar.sameElse;return x(t)?t.call(e,s):t},et.longDateFormat=function(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},et.invalidDate=function(){return this._invalidDate},et.ordinal=function(t){return this._ordinal.replace("%d",t)},et.preparse=Xe,et.postformat=Xe,et.relativeTime=function(t,e,s,i){var n=this._relativeTime[s];return x(n)?n(t,e,s,i):n.replace(/%d/i,t)},et.pastFuture=function(t,e){t=this._relativeTime[0<t?"future":"past"];return x(t)?t(e):t.replace(/%s/i,e)},et.set=function(t){var e,s;for(s in t)x(e=t[s])?this[s]=e:this["_"+s]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},et.months=function(t,e){return t?(a(this._months)?this._months:this._months[(this._months.isFormat||Lt).test(e)?"format":"standalone"])[t.month()]:a(this._months)?this._months:this._months.standalone},et.monthsShort=function(t,e){return t?(a(this._monthsShort)?this._monthsShort:this._monthsShort[Lt.test(e)?"format":"standalone"])[t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},et.monthsParse=function(t,e,s){var i,n;if(this._monthsParseExact)return function(t,e,s){var i,n,o,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return s?"MMM"===e?-1!==(n=kt.call(this._shortMonthsParse,t))?n:null:-1!==(n=kt.call(this._longMonthsParse,t))?n:null:"MMM"===e?-1!==(n=kt.call(this._shortMonthsParse,t))||-1!==(n=kt.call(this._longMonthsParse,t))?n:null:-1!==(n=kt.call(this._longMonthsParse,t))||-1!==(n=kt.call(this._shortMonthsParse,t))?n:null}.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(n=h([2e3,i]),s&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),s||this._monthsParse[i]||(n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(n.replace(".",""),"i")),s&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(s&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!s&&this._monthsParse[i].test(t))return i}},et.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Nt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},et.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Nt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Et),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},et.week=function(t){return Ht(t,this._week.dow,this._week.doy).week},et.firstDayOfYear=function(){return this._week.doy},et.firstDayOfWeek=function(){return this._week.dow},et.weekdays=function(t,e){return t?(a(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"])[t.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},et.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},et.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},et.weekdaysParse=function(t,e,s){var i,n;if(this._weekdaysParseExact)return function(t,e,s){var i,n,o,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return s?"dddd"===e?-1!==(n=kt.call(this._weekdaysParse,t))?n:null:"ddd"===e?-1!==(n=kt.call(this._shortWeekdaysParse,t))?n:null:-1!==(n=kt.call(this._minWeekdaysParse,t))?n:null:"dddd"===e?-1!==(n=kt.call(this._weekdaysParse,t))||-1!==(n=kt.call(this._shortWeekdaysParse,t))||-1!==(n=kt.call(this._minWeekdaysParse,t))?n:null:"ddd"===e?-1!==(n=kt.call(this._shortWeekdaysParse,t))||-1!==(n=kt.call(this._weekdaysParse,t))||-1!==(n=kt.call(this._minWeekdaysParse,t))?n:null:-1!==(n=kt.call(this._minWeekdaysParse,t))||-1!==(n=kt.call(this._weekdaysParse,t))||-1!==(n=kt.call(this._shortWeekdaysParse,t))?n:null}.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(n=h([2e3,1]).day(i),s&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")),s&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(s&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(s&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!s&&this._weekdaysParse[i].test(t))return i}},et.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Bt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},et.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},et.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},et.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},et.meridiem=function(t,e,s){return 11<t?s?"pm":"PM":s?"am":"AM"},ae("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),f.lang=s("moment.lang is deprecated. Use moment.locale instead.",ae),f.langData=s("moment.langData is deprecated. Use moment.localeData instead.",le);var is=Math.abs;function ns(t,e,s,i){s=He(e,s);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function os(t){return t<0?Math.floor(t):Math.ceil(t)}function as(t){return 4800*t/146097}function rs(t){return 146097*t/4800}function ls(t){return function(){return this.as(t)}}Z=ls("ms"),G=ls("s"),B=ls("m"),X=ls("h"),z=ls("d"),at=ls("w"),xe=ls("M"),Me=ls("y");function ds(t){return function(){return this.isValid()?this._data[t]:NaN}}var Q=ds("milliseconds"),te=ds("seconds"),qt=ds("minutes"),Gt=ds("hours"),tt=ds("days"),Tt=ds("months"),Ot=ds("years"),cs=Math.round,us={ss:44,s:45,m:45,h:22,d:26,M:11},hs=Math.abs;function ps(t){return(0<t)-(t<0)||+t}function fs(){if(!this.isValid())return this.localeData().invalidDate();var t=hs(this._milliseconds)/1e3,e=hs(this._days),s=hs(this._months),i=b((d=b(t/60))/60);t%=60,d%=60;var n=b(s/12),o=s%=12,a=e,r=i,l=d,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",e=this.asSeconds();if(!e)return"P0D";var i=ps(this._months)!==ps(e)?"-":"",d=ps(this._days)!==ps(e)?"-":"",t=ps(this._milliseconds)!==ps(e)?"-":"";return(e<0?"-":"")+"P"+(n?i+n+"Y":"")+(o?i+o+"M":"")+(a?d+a+"D":"")+(r||l||s?"T":"")+(r?t+r+"H":"")+(l?t+l+"M":"")+(s?t+s+"S":"")}et=Le.prototype;return et.isValid=function(){return this._isValid},et.abs=function(){var t=this._data;return this._milliseconds=is(this._milliseconds),this._days=is(this._days),this._months=is(this._months),t.milliseconds=is(t.milliseconds),t.seconds=is(t.seconds),t.minutes=is(t.minutes),t.hours=is(t.hours),t.months=is(t.months),t.years=is(t.years),this},et.add=function(t,e){return ns(this,t,e,1)},et.subtract=function(t,e){return ns(this,t,e,-1)},et.as=function(t){if(!this.isValid())return NaN;var e,s,i=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+i/864e5,s=this._months+as(e),"month"===t?s:s/12;switch(e=this._days+Math.round(rs(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},et.asMilliseconds=Z,et.asSeconds=G,et.asMinutes=B,et.asHours=X,et.asDays=z,et.asWeeks=at,et.asMonths=xe,et.asYears=Me,et.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},et._bubble=function(){var t=this._milliseconds,e=this._days,s=this._months,i=this._data;return 0<=t&&0<=e&&0<=s||t<=0&&e<=0&&s<=0||(t+=864e5*os(rs(s)+e),s=e=0),i.milliseconds=t%1e3,t=b(t/1e3),i.seconds=t%60,t=b(t/60),i.minutes=t%60,t=b(t/60),i.hours=t%24,s+=t=b(as(e+=b(t/24))),e-=os(rs(t)),t=b(s/12),s%=12,i.days=e,i.months=s,i.years=t,this},et.clone=function(){return He(this)},et.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},et.milliseconds=Q,et.seconds=te,et.minutes=qt,et.hours=Gt,et.days=tt,et.weeks=function(){return b(this.days()/7)},et.months=Tt,et.years=Ot,et.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,s,i,n,o,a,r,l=this.localeData(),d=(e=!t,s=l,d=He(this).abs(),i=cs(d.as("s")),n=cs(d.as("m")),o=cs(d.as("h")),a=cs(d.as("d")),r=cs(d.as("M")),d=cs(d.as("y")),(d=(i<=us.ss?["s",i]:i<us.s&&["ss",i])||n<=1&&["m"]||n<us.m&&["mm",n]||o<=1&&["h"]||o<us.h&&["hh",o]||a<=1&&["d"]||a<us.d&&["dd",a]||r<=1&&["M"]||r<us.M&&["MM",r]||d<=1&&["y"]||["yy",d])[2]=e,d[3]=0<+this,d[4]=s,function(t,e,s,i,n){return n.relativeTime(e||1,!!s,t,i)}.apply(null,d));return t&&(d=l.pastFuture(+this,d)),l.postformat(d)},et.toISOString=fs,et.toString=fs,et.toJSON=fs,et.locale=ze,et.localeData=$e,et.toIsoString=s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fs),et.lang=J,j("X",0,0,"unix"),j("x",0,0,"valueOf"),lt("x",it),lt("X",/[+-]?\d+(\.\d{1,3})?/),ut("X",function(t,e,s){s._d=new Date(1e3*parseFloat(t,10))}),ut("x",function(t,e,s){s._d=new Date(S(t))}),f.version="2.22.2",t=Oe,f.fn=$,f.min=function(){return Ye("isBefore",[].slice.call(arguments,0))},f.max=function(){return Ye("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=h,f.unix=function(t){return Oe(1e3*t)},f.months=function(t,e){return es(t,e,"months")},f.isDate=d,f.locale=ae,f.invalid=_,f.duration=He,f.isMoment=D,f.weekdays=function(t,e,s){return ss(t,e,s,"weekdays")},f.parseZone=function(){return Oe.apply(null,arguments).parseZone()},f.localeData=le,f.isDuration=Te,f.monthsShort=function(t,e){return es(t,e,"monthsShort")},f.weekdaysMin=function(t,e,s){return ss(t,e,s,"weekdaysMin")},f.defineLocale=re,f.updateLocale=function(t,e){var s,i;return null!=e?(i=ee,(e=new C(e=Y(i=null!=(s=oe(t))?s._config:i,e))).parentLocale=se[t],se[t]=e,ae(t)):null!=se[t]&&(null!=se[t].parentLocale?se[t]=se[t].parentLocale:null!=se[t]&&delete se[t]),se[t]},f.locales=function(){return L(se)},f.weekdaysShort=function(t,e,s){return ss(t,e,s,"weekdaysShort")},f.normalizeUnits=F,f.relativeTimeRounding=function(t){return void 0===t?cs:"function"==typeof t&&(cs=t,!0)},f.relativeTimeThreshold=function(t,e){return void 0!==us[t]&&(void 0===e?us[t]:(us[t]=e,"s"===t&&(us.ss=e-1),!0))},f.calendarFormat=function(t,e){e=t.diff(e,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=$,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},f}),function(t,e){var s;"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof module&&module.exports?(s="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=e(s)):t.Lightpick=e(t.moment)}(this,function(p){"use strict";function f(t){return'<div class="lightpick__toolbar"><button type="button" class="lightpick__previous-action">'+t.locale.buttons.prev+'</button><button type="button" class="lightpick__next-action">'+t.locale.buttons.next+"</button>"+(t.autoclose||t.inline?"":'<button type="button" class="lightpick__close-action">'+t.locale.buttons.close+"</button>")+"</div>"}function m(t,e,s){return new Date(1970,0,e,12,0,0,0).toLocaleString(t.lang,{weekday:s||t.weekdayStyle})}function g(t,e,s,i){if(s)return"<div></div>";var e=p(e),n=p(e).subtract(1,"month"),s=p(e).add(1,"month"),o={time:p(e).valueOf(),className:["lightpick__day","is-available"]};if(i instanceof Array||"[object Array]"===Object.prototype.toString.call(i)?(i=i.filter(function(t){return 0<=["lightpick__day","is-available","is-previous-month","is-next-month"].indexOf(t)}),o.className=o.className.concat(i)):o.className.push(i),t.disableDates)for(var a,r,l=0;l<t.disableDates.length;l++)t.disableDates[l]instanceof Array||"[object Array]"===Object.prototype.toString.call(t.disableDates[l])?(a=p(t.disableDates[l][0],t.format),r=p(t.disableDates[l][1],t.format),a.isValid()&&r.isValid()&&e.isBetween(a,r,"day","[]")&&o.className.push("is-disabled")):p(t.disableDates[l],t.format).isValid()&&p(t.disableDates[l],t.format).isSame(e,"day")&&o.className.push("is-disabled"),0<=o.className.indexOf("is-disabled")&&(t.locale.tooltipOnDisabled&&(!t.startDate||e.isAfter(t.startDate)||t.startDate&&t.endDate)&&o.className.push("disabled-tooltip"),0<=o.className.indexOf("is-start-date")?(this.setStartDate(null),this.setEndDate(null)):0<=o.className.indexOf("is-end-date")&&this.setEndDate(null));return t.minDays&&t.startDate&&!t.endDate&&e.isBetween(p(t.startDate).subtract(t.minDays-1,"day"),p(t.startDate).add(t.minDays-1,"day"),"day")&&(o.className.push("is-disabled"),t.selectForward&&e.isSameOrAfter(t.startDate)&&(o.className.push("is-forward-selected"),o.className.push("is-in-range"))),t.maxDays&&t.startDate&&!t.endDate&&(e.isSameOrBefore(p(t.startDate).subtract(t.maxDays,"day"),"day")||e.isSameOrAfter(p(t.startDate).add(t.maxDays,"day"),"day"))&&o.className.push("is-disabled"),t.repick&&(t.minDays||t.maxDays)&&t.startDate&&t.endDate&&(i=p(t.repickTrigger==t.field?t.endDate:t.startDate),t.minDays&&e.isBetween(p(i).subtract(t.minDays-1,"day"),p(i).add(t.minDays-1,"day"),"day")&&o.className.push("is-disabled"),t.maxDays&&(e.isSameOrBefore(p(i).subtract(t.maxDays,"day"),"day")||e.isSameOrAfter(p(i).add(t.maxDays,"day"),"day"))&&o.className.push("is-disabled")),e.isSame(new Date,"day")&&o.className.push("is-today"),e.isSame(t.startDate,"day")&&o.className.push("is-start-date"),e.isSame(t.endDate,"day")&&o.className.push("is-end-date"),t.startDate&&t.endDate&&e.isBetween(t.startDate,t.endDate,"day","[]")&&o.className.push("is-in-range"),p().isSame(e,"month")||(n.isSame(e,"month")?o.className.push("is-previous-month"):s.isSame(e,"month")&&o.className.push("is-next-month")),t.minDate&&e.isBefore(t.minDate,"day")&&o.className.push("is-disabled"),t.maxDate&&e.isAfter(t.maxDate,"day")&&o.className.push("is-disabled"),t.selectForward&&!t.singleDate&&t.startDate&&!t.endDate&&e.isBefore(t.startDate,"day")&&o.className.push("is-disabled"),t.selectBackward&&!t.singleDate&&t.startDate&&!t.endDate&&e.isAfter(t.startDate,"day")&&o.className.push("is-disabled"),!t.disableWeekends||6!=e.isoWeekday()&&7!=e.isoWeekday()||o.className.push("is-disabled"),o.className=o.className.filter(function(t,e,s){return s.indexOf(t)===e}),0<=o.className.indexOf("is-disabled")&&0<=o.className.indexOf("is-available")&&o.className.splice(o.className.indexOf("is-available"),1),(s=_.createElement("div")).className=o.className.join(" "),s.innerHTML=e.get("date"),s.setAttribute("data-time",o.time),s.outerHTML}function e(t,e){for(var s="",i=p(e.calendar[0]),n=0;n<e.numberOfMonths;n++){var o=p(i);s+='<section class="lightpick__month">',s+='<header class="lightpick__month-title-bar">',s+='<div class="lightpick__month-title">'+function(t,e){for(var s=p(t),i=_.createElement("select"),n=0;n<12;n++){s.set("month",n);var o=_.createElement("option");o.value=s.toDate().getMonth(),o.text=s.toDate().toLocaleString(e.lang,{month:"long"}),n===t.toDate().getMonth()&&o.setAttribute("selected","selected"),i.appendChild(o)}return i.className="lightpick__select lightpick__select-months",i.dir="rtl",e.dropdowns&&e.dropdowns.months||(i.disabled=!0),i.outerHTML}(o,e)+function(t,e){var s=p(t),i=_.createElement("select"),n=e.dropdowns&&e.dropdowns.years?e.dropdowns.years:null,o=n&&n.min?n.min:1900,a=n&&n.max?n.max:Number.parseInt(p().format("YYYY"));Number.parseInt(t.format("YYYY"))<o&&(o=Number.parseInt(t.format("YYYY"))),Number.parseInt(t.format("YYYY"))>a&&(a=Number.parseInt(t.format("YYYY")));for(var r=o;r<=a;r++){s.set("year",r);var l=_.createElement("option");l.value=s.toDate().getFullYear(),l.text=s.toDate().getFullYear(),r===t.toDate().getFullYear()&&l.setAttribute("selected","selected"),i.appendChild(l)}return i.className="lightpick__select lightpick__select-years",e.dropdowns&&e.dropdowns.years||(i.disabled=!0),i.outerHTML}(o,e)+"</div>",1===e.numberOfMonths&&(s+=f(e)),s+="</header>",s+='<div class="lightpick__days-of-the-week">';for(var a=e.firstDay+4;a<7+e.firstDay+4;++a)s+='<div class="lightpick__day-of-the-week" title="'+m(e,a,"long")+'">'+m(e,a)+"</div>";if(s+="</div>",s+='<div class="lightpick__days">',o.isoWeekday()!==e.firstDay)for(var r=0<o.isoWeekday()-e.firstDay?o.isoWeekday()-e.firstDay:o.isoWeekday(),l=p(o).subtract(r,"day"),d=l.daysInMonth(),c=l.get("date");c<=d;c++)s+=g(e,l,0<n,"is-previous-month"),l.add(1,"day");for(d=o.daysInMonth(),c=(new Date,0);c<d;c++)s+=g(e,o),o.add(1,"day");var u=p(o),h=7-u.isoWeekday()+e.firstDay;if(h<7)for(c=u.get("date");c<=h;c++)s+=g(e,u,n<e.numberOfMonths-1,"is-next-month"),u.add(1,"day");s+="</div>",s+="</section>",i.add(1,"month")}e.calendar[1]=p(i),t.querySelector(".lightpick__months").innerHTML=s}function r(t,e){var s=t.querySelectorAll(".lightpick__day");[].forEach.call(s,function(t){t.outerHTML=g(e,parseInt(t.getAttribute("data-time")),!1,t.className.split(" "))}),n(t,e)}function t(t){var a=this,s=a.config(t);a.el=_.createElement("section"),a.el.className="lightpick lightpick--"+s.numberOfColumns+"-columns is-hidden",s.inline&&(a.el.className+=" lightpick--inlined"),t='<div class="lightpick__inner">'+(1<s.numberOfMonths?f(s):"")+'<div class="lightpick__months"></div><div class="lightpick__tooltip" style="visibility: hidden"></div>',s.footer&&(t+='<div class="lightpick__footer">',!0===s.footer?(t+='<button type="button" class="lightpick__reset-action">'+s.locale.buttons.reset+"</button>",t+='<div class="lightpick__footer-message"></div>',t+='<button type="button" class="lightpick__apply-action">'+s.locale.buttons.apply+"</button>"):t+=s.footer,t+="</div>"),a.el.innerHTML=t+="</div>",(s.parentEl instanceof Node?s.parentEl:"body"===s.parentEl&&s.inline?s.field.parentNode:_.querySelector(s.parentEl)).appendChild(a.el),a._onMouseDown=function(t){if(a.isShowing){var e=(t=t||window.event).target||t.srcElement;if(e){t.stopPropagation(),e.classList.contains("lightpick__select")||t.preventDefault();var s=a._opts;if(e.classList.contains("lightpick__day")&&e.classList.contains("is-available")){var i,t=p(parseInt(e.getAttribute("data-time")));if(!s.disabledDatesInRange&&s.disableDates&&s.startDate){var n=t.isAfter(s.startDate)?p(s.startDate):p(t),o=t.isAfter(s.startDate)?p(t):p(s.startDate);if(s.disableDates.filter(function(t){if(t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)){var e=p(t[0]),s=p(t[1]);return e.isValid()&&s.isValid()&&(e.isBetween(n,o,"day","[]")||s.isBetween(n,o,"day","[]"))}return p(t).isBetween(n,o,"day","[]")}).length)return a.setStartDate(null),a.setEndDate(null),e.dispatchEvent(new Event("mousedown")),a.el.querySelector(".lightpick__tooltip").style.visibility="hidden",void r(a.el,s)}s.singleDate||!s.startDate&&!s.endDate||s.startDate&&s.endDate?s.repick&&s.startDate&&s.endDate?(s.repickTrigger===s.field?(a.setStartDate(t),e.classList.add("is-start-date")):(a.setEndDate(t),e.classList.add("is-end-date")),s.startDate.isAfter(s.endDate)&&a.swapDate(),s.autoclose&&setTimeout(function(){a.hide()},100)):(a.setStartDate(t),a.setEndDate(null),e.classList.add("is-start-date"),s.singleDate&&s.autoclose?setTimeout(function(){a.hide()},100):s.singleDate&&!s.inline&&s.autoclose||r(a.el,s)):s.startDate&&!s.endDate&&(a.setEndDate(t),s.startDate.isAfter(s.endDate)&&a.swapDate(),e.classList.add("is-end-date"),s.autoclose?setTimeout(function(){a.hide()},100):r(a.el,s)),s.disabledDatesInRange||0===a.el.querySelectorAll(".lightpick__day.is-available").length&&(a.setStartDate(null),r(a.el,s),s.footer&&("function"==typeof a._opts.onError?a._opts.onError.call(a,"Invalid range"):(i=a.el.querySelector(".lightpick__footer-message"))&&(i.innerHTML=s.locale.not_allowed_range,setTimeout(function(){i.innerHTML=""},3e3))))}else e.classList.contains("lightpick__previous-action")?a.prevMonth():e.classList.contains("lightpick__next-action")?a.nextMonth():e.classList.contains("lightpick__close-action")||e.classList.contains("lightpick__apply-action")?a.hide():e.classList.contains("lightpick__reset-action")&&a.reset()}}},a._onMouseEnter=function(t){var e,s,i,n,o;!a.isShowing||(e=(t=t||window.event).target||t.srcElement)&&(s=a._opts,e.classList.contains("lightpick__day")&&e.classList.contains("disabled-tooltip")&&s.locale.tooltipOnDisabled?a.showTooltip(e,s.locale.tooltipOnDisabled):(a.hideTooltip(),s.singleDate||!s.startDate&&!s.endDate||(e.classList.contains("lightpick__day")||e.classList.contains("is-available"))&&(!(s.startDate&&!s.endDate||s.repick)||(i=p(parseInt(e.getAttribute("data-time")))).isValid()&&(n=s.startDate&&!s.endDate||s.repick&&s.repickTrigger===s.secondField?s.startDate:s.endDate,o=a.el.querySelectorAll(".lightpick__day"),[].forEach.call(o,function(t){var e=p(parseInt(t.getAttribute("data-time")));t.classList.remove("is-flipped"),e.isValid()&&e.isSameOrAfter(n,"day")&&e.isSameOrBefore(i,"day")?(t.classList.add("is-in-range"),s.repickTrigger===s.field&&e.isSameOrAfter(s.endDate)&&t.classList.add("is-flipped")):e.isValid()&&e.isSameOrAfter(i,"day")&&e.isSameOrBefore(n,"day")?(t.classList.add("is-in-range"),(s.startDate&&!s.endDate||s.repickTrigger===s.secondField)&&e.isSameOrBefore(s.startDate)&&t.classList.add("is-flipped")):t.classList.remove("is-in-range"),s.startDate&&s.endDate&&s.repick&&s.repickTrigger===s.field?t.classList.remove("is-start-date"):t.classList.remove("is-end-date")}),s.hoveringTooltip&&(o=Math.abs(i.isAfter(n)?i.diff(n,"day"):n.diff(i,"day")),s.tooltipNights||(o+=1),a.el.querySelector(".lightpick__tooltip"),0<o&&!e.classList.contains("is-disabled")?(t="","function"==typeof s.locale.pluralize&&(t=s.locale.pluralize.call(a,o,s.locale.tooltip)),a.showTooltip(e,o+" "+t)):a.hideTooltip()),s.startDate&&s.endDate&&s.repick&&s.repickTrigger===s.field?e.classList.add("is-start-date"):e.classList.add("is-end-date")))))},a._onChange=function(t){t=(t=t||window.event).target||t.srcElement;t&&(t.classList.contains("lightpick__select-months")?("function"==typeof a._opts.onMonthsChange&&a._opts.onMonthsChange.call(this,t.value),a.gotoMonth(t.value)):t.classList.contains("lightpick__select-years")&&("function"==typeof a._opts.onYearsChange&&a._opts.onYearsChange.call(this,t.value),a.gotoYear(t.value)))},a._onInputChange=function(t){t.target||t.srcElement;a._opts.singleDate&&(a._opts.autoclose||a.gotoDate(s.field.value)),a.syncFields(),a.isShowing||a.show()},a._onInputFocus=function(t){t=t.target||t.srcElement;a.show(t)},a._onInputClick=function(t){t=t.target||t.srcElement;a.show(t)},a._onClick=function(t){var t=(t=t||window.event).target||t.srcElement,e=t;if(t){do{if(e.classList&&e.classList.contains("lightpick")||e===s.field||s.secondField&&e===s.secondField)return}while(e=e.parentNode);a.isShowing&&s.hideOnBodyClick&&t!==s.field&&e!==s.field&&a.hide()}},a.showTooltip=function(t,e){var s=a.el.querySelector(".lightpick__tooltip"),i=a.el.classList.contains("lightpick--inlined"),t=t.getBoundingClientRect(),i=(i?a.el.parentNode:a.el).getBoundingClientRect(),n=t.left-i.left+t.width/2,o=t.top-i.top;s.style.visibility="visible",s.textContent=e;e=s.getBoundingClientRect();o-=e.height,n-=e.width/2,setTimeout(function(){s.style.top=o+"px",s.style.left=n+"px"},10)},a.hideTooltip=function(){a.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},a.el.addEventListener("mousedown",a._onMouseDown,!0),a.el.addEventListener("mouseenter",a._onMouseEnter,!0),a.el.addEventListener("touchend",a._onMouseDown,!0),a.el.addEventListener("change",a._onChange,!0),s.inline?a.show():a.hide(),s.field.addEventListener("change",a._onInputChange),s.field.addEventListener("click",a._onInputClick),s.field.addEventListener("focus",a._onInputFocus),s.secondField&&(s.secondField.addEventListener("change",a._onInputChange),s.secondField.addEventListener("click",a._onInputClick),s.secondField.addEventListener("focus",a._onInputFocus))}var _=window.document,i={field:null,secondField:null,firstDay:1,parentEl:"body",lang:"auto",format:"DD/MM/YYYY",separator:" - ",numberOfMonths:1,numberOfColumns:2,singleDate:!0,autoclose:!0,repick:!1,startDate:null,endDate:null,minDate:null,maxDate:null,disableDates:null,selectForward:!1,selectBackward:!1,minDays:null,maxDays:null,hoveringTooltip:!0,hideOnBodyClick:!0,footer:!1,disabledDatesInRange:!0,tooltipNights:!1,orientation:"auto",disableWeekends:!1,inline:!1,weekdayStyle:"short",dropdowns:{years:{min:1900,max:null},months:!0},locale:{buttons:{prev:"&leftarrow;",next:"&rightarrow;",close:"&times;",reset:"Reset",apply:"Apply"},tooltip:{one:"day",other:"days"},tooltipOnDisabled:null,pluralize:function(t,e){return 1===(t="string"==typeof t?parseInt(t,10):t)&&"one"in e?e.one:"other"in e?e.other:""}},onSelect:null,onSelectStart:null,onSelectEnd:null,onOpen:null,onClose:null,onError:null,onMonthsChange:null,onYearsChange:null},n=function(t,s){var e,i,n;!s.disabledDatesInRange&&s.startDate&&!s.endDate&&s.disableDates&&(e=t.querySelectorAll(".lightpick__day"),t=s.disableDates.map(function(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)?t[0]:t}),i=p(t.filter(function(t){return p(t).isBefore(s.startDate)}).sort(function(t,e){return p(e).isAfter(p(t))})[0]),n=p(t.filter(function(t){return p(t).isAfter(s.startDate)}).sort(function(t,e){return p(t).isAfter(p(e))})[0]),[].forEach.call(e,function(t){var e=p(parseInt(t.getAttribute("data-time")));(i&&e.isBefore(i)&&s.startDate.isAfter(i)||n&&e.isAfter(n)&&n.isAfter(s.startDate))&&(t.classList.remove("is-available"),t.classList.add("is-disabled"))}))};return t.prototype={config:function(t){var e,s=Object.assign({},i,t);return s.field=s.field&&s.field.nodeName?s.field:null,s.calendar=[p().set("date",1)],1===s.numberOfMonths&&1<s.numberOfColumns&&(s.numberOfColumns=1),s.minDate=s.minDate&&p(s.minDate,s.format).isValid()?p(s.minDate,s.format):null,s.maxDate=s.maxDate&&p(s.maxDate,s.format).isValid()?p(s.maxDate,s.format):null,"auto"===s.lang&&(e=navigator.language||navigator.userLanguage,s.lang=e||"en-US"),s.secondField&&s.singleDate&&(s.singleDate=!1),s.hoveringTooltip&&s.singleDate&&(s.hoveringTooltip=!1),"[object Object]"===Object.prototype.toString.call(t.locale)&&(s.locale=Object.assign({},i.locale,t.locale)),window.innerWidth<480&&1<s.numberOfMonths&&(s.numberOfMonths=1,s.numberOfColumns=1),s.repick&&!s.secondField&&(s.repick=!1),s.inline&&(s.autoclose=!1,s.hideOnBodyClick=!1),this._opts=Object.assign({},s),this.syncFields(),this.setStartDate(this._opts.startDate,!0),this.setEndDate(this._opts.endDate,!0),this._opts},syncFields:function(){var t;this._opts.singleDate||this._opts.secondField?(p(this._opts.field.value,this._opts.format).isValid()&&(this._opts.startDate=p(this._opts.field.value,this._opts.format)),this._opts.secondField&&p(this._opts.secondField.value,this._opts.format).isValid()&&(this._opts.endDate=p(this._opts.secondField.value,this._opts.format))):2===(t=this._opts.field.value.split(this._opts.separator)).length&&(p(t[0],this._opts.format).isValid()&&(this._opts.startDate=p(t[0],this._opts.format)),p(t[1],this._opts.format).isValid()&&(this._opts.endDate=p(t[1],this._opts.format)))},swapDate:function(){var t=p(this._opts.startDate);this.setDateRange(this._opts.endDate,t)},gotoToday:function(){this.gotoDate(new Date)},gotoDate:function(t){(t=!(t=p(t,this._opts.format)).isValid()?p():t).set("date",1),this._opts.calendar=[p(t)],e(this.el,this._opts)},gotoMonth:function(t){isNaN(t)||(this._opts.calendar[0].set("month",t),e(this.el,this._opts))},gotoYear:function(t){isNaN(t)||(this._opts.calendar[0].set("year",t),e(this.el,this._opts))},prevMonth:function(){this._opts.calendar[0]=p(this._opts.calendar[0]).subtract(this._opts.numberOfMonths,"month"),e(this.el,this._opts),n(this.el,this._opts)},nextMonth:function(){this._opts.calendar[0]=p(this._opts.calendar[1]),e(this.el,this._opts),n(this.el,this._opts)},updatePosition:function(){var t,e,s,i,n;this.el.classList.contains("lightpick--inlined")||(this.el.classList.remove("is-hidden"),t=this._opts.field.getBoundingClientRect(),e=this.el.getBoundingClientRect(),"auto"!=(s=this._opts.orientation.split(" "))[n=i=0]&&/top|bottom/.test(s[0])?(i=t[s[0]]+window.pageYOffset,"top"==s[0]&&(i-=e.height)):i=t.bottom+e.height>window.innerHeight&&window.pageYOffset>e.height?t.top+window.pageYOffset-e.height:t.bottom+window.pageYOffset,/left|right/.test(s[0])||s[1]&&"auto"!=s[1]&&/left|right/.test(s[1])?(n=/left|right/.test(s[0])?t[s[0]]+window.pageXOffset:t[s[1]]+window.pageXOffset,"right"!=s[0]&&"right"!=s[1]||(n-=e.width)):n=t.left+e.width>window.innerWidth?t.right+window.pageXOffset-e.width:t.left+window.pageXOffset,this.el.classList.add("is-hidden"),this.el.style.top=i+"px",this.el.style.left=n+"px")},setStartDate:function(t,e){var s=p(t,p.ISO_8601),t=p(t,this._opts.format);if(!s.isValid()&&!t.isValid())return this._opts.startDate=null,void(this._opts.field.value="");this._opts.startDate=p(s.isValid()?s:t),this._opts.singleDate||this._opts.secondField?this._opts.field.value=this._opts.startDate.format(this._opts.format):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"...",e||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),e||this._opts.singleDate||"function"!=typeof this._opts.onSelectStart||this._opts.onSelectStart.call(this,this.getStartDate())},setEndDate:function(t,e){var s=p(t,p.ISO_8601),t=p(t,this._opts.format);if(!s.isValid()&&!t.isValid())return this._opts.endDate=null,void(this._opts.secondField?this._opts.secondField.value="":!this._opts.singleDate&&this._opts.startDate&&(this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"..."));this._opts.endDate=p(s.isValid()?s:t),this._opts.secondField?(this._opts.field.value=this._opts.startDate.format(this._opts.format),this._opts.secondField.value=this._opts.endDate.format(this._opts.format)):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+this._opts.endDate.format(this._opts.format),e||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),e||this._opts.singleDate||"function"!=typeof this._opts.onSelectEnd||this._opts.onSelectEnd.call(this,this.getEndDate())},setDate:function(t,e){this._opts.singleDate&&(this.setStartDate(t,e),this.isShowing&&r(this.el,this._opts))},setDateRange:function(t,e,s){this._opts.singleDate||(this.setStartDate(t,!0),this.setEndDate(e,!0),this.isShowing&&r(this.el,this._opts),s||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()))},setDisableDates:function(t){this._opts.disableDates=t,this.isShowing&&r(this.el,this._opts)},getStartDate:function(){return p(this._opts.startDate).isValid()?this._opts.startDate.clone():null},getEndDate:function(){return p(this._opts.endDate).isValid()?this._opts.endDate.clone():null},getDate:function(){return p(this._opts.startDate).isValid()?this._opts.startDate.clone():null},toString:function(t){return this._opts.singleDate?p(this._opts.startDate).isValid()?this._opts.startDate.format(t):"":p(this._opts.startDate).isValid()&&p(this._opts.endDate).isValid()?this._opts.startDate.format(t)+this._opts.separator+this._opts.endDate.format(t):p(this._opts.startDate).isValid()&&!p(this._opts.endDate).isValid()?this._opts.startDate.format(t)+this._opts.separator+"...":!p(this._opts.startDate).isValid()&&p(this._opts.endDate).isValid()?"..."+this._opts.separator+this._opts.endDate.format(t):""},show:function(t){this.isShowing||(this.isShowing=!0,this._opts.repick&&(this._opts.repickTrigger=t),this.syncFields(),this._opts.secondField&&this._opts.secondField===t&&this._opts.endDate?this.gotoDate(this._opts.endDate):this.gotoDate(this._opts.startDate),_.addEventListener("click",this._onClick),this.updatePosition(),this.el.classList.remove("is-hidden"),"function"==typeof this._opts.onOpen&&this._opts.onOpen.call(this),_.activeElement&&_.activeElement!=_.body&&_.activeElement.blur())},hide:function(){this.isShowing&&(this.isShowing=!1,_.removeEventListener("click",this._onClick),this.el.classList.add("is-hidden"),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden","function"==typeof this._opts.onClose&&this._opts.onClose.call(this))},destroy:function(){var t=this._opts;this.hide(),this.el.removeEventListener("mousedown",self._onMouseDown,!0),this.el.removeEventListener("mouseenter",self._onMouseEnter,!0),this.el.removeEventListener("touchend",self._onMouseDown,!0),this.el.removeEventListener("change",self._onChange,!0),t.field.removeEventListener("change",this._onInputChange),t.field.removeEventListener("click",this._onInputClick),t.field.removeEventListener("focus",this._onInputFocus),t.secondField&&(t.secondField.removeEventListener("change",this._onInputChange),t.secondField.removeEventListener("click",this._onInputClick),t.secondField.removeEventListener("focus",this._onInputFocus)),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},reset:function(){this.setStartDate(null,!0),this.setEndDate(null,!0),r(this.el,this._opts),"function"==typeof this._opts.onSelect&&this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},reloadOptions:function(t){var e=this._opts.dropdowns,s=this._opts.locale;Object.assign(this._opts,this._opts,t),Object.assign(this._opts.dropdowns,e,t.dropdowns),Object.assign(this._opts.locale,s,t.locale)}},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).TomSelect=e()}(this,function(){"use strict";function p(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=s(String(t||"")))>(e=s(String(e||"")))?1:t<e?-1:0}function f(t,e,s){if(t&&e){if(!s)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}}var l={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},s=function(){var t,e,s,i,n="",o={};for(s in l)if(l.hasOwnProperty(s))for(n+=i=l[s].substring(2,l[s].length-1),t=0,e=i.length;t<e;t++)o[i.charAt(t)]=s;var a=new RegExp("["+n+"]","g");return function(t){return t.replace(a,function(t){return o[t]}).toLowerCase()}}();class r{constructor(t,e){this.items=void 0,this.settings=void 0,this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e){if(!(t=String(t||"").toLowerCase().trim())||!t.length)return[];for(var s,i,n=[],o=t.split(/ +/),a=0,r=o.length;a<r;a++){if(s=(o[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),this.settings.diacritics)for(i in l)l.hasOwnProperty(i)&&(s=s.replace(new RegExp(i,"g"),l[i]));e&&(s="\\b"+s),n.push({string:o[a],regex:new RegExp(s,"i")})}return n}iterator(t,e){(Array.isArray(t)?Array.prototype.forEach||function(t){for(var e=0,s=this.length;e<s;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])}getScoreFunction(t,e){function n(t,e){var s;return!t||-1===(s=(t=String(t||"")).search(e.regex))?0:(t=e.string.length/t.length,0===s&&(t+=.5),t)}var o,e=this.prepareSearch(t,e),a=e.tokens,r=e.options.fields,l=a.length,d=e.options.nesting,c=(o=r.length)?1===o?function(t,e){return n(f(e,r[0],d),t)}:function(t,e){for(var s=0,i=0;s<o;s++)i+=n(f(e,r[s],d),t);return i/o}:function(){return 0};return l?1===l?function(t){return c(a[0],t)}:"and"===e.options.conjunction?function(t){for(var e,s=0,i=0;s<l;s++){if((e=c(a[s],t))<=0)return 0;i+=e}return i/l}:function(t){for(var e=0,s=0;e<l;e++)s+=c(a[e],t);return s/l}:function(){return 0}}getSortFunction(t,s){var e,i,n,o,a,r,l,d,c=!(t=(n=this).prepareSearch(t,s)).query&&s.sort_empty||s.sort,u=function(t,e){return"$score"===t?e.score:f(n.items[e.id],t,s.nesting)},h=[];if(c)for(e=0,i=c.length;e<i;e++)!t.query&&"$score"===c[e].field||h.push(c[e]);if(t.query){for(d=!0,e=0,i=h.length;e<i;e++)if("$score"===h[e].field){d=!1;break}d&&h.unshift({field:"$score",direction:"desc"})}else for(e=0,i=h.length;e<i;e++)if("$score"===h[e].field){h.splice(e,1);break}for(l=[],e=0,i=h.length;e<i;e++)l.push("desc"===h[e].direction?-1:1);return(a=h.length)?1===a?(o=h[0].field,r=l[0],function(t,e){return r*p(u(o,t),u(o,e))}):function(t,e){for(var s,i=0;i<a;i++)if(s=h[i].field,s=l[i]*p(u(s,t),u(s,e)))return s;return 0}:null}prepareSearch(t,e){if("object"==typeof t)return t;var s=(e=Object.assign({},e)).fields,i=e.sort,n=e.sort_empty;return s&&!Array.isArray(s)&&(e.fields=[s]),i&&!Array.isArray(i)&&(e.sort=[i]),n&&!Array.isArray(n)&&(e.sort_empty=[n]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t,e.respect_word_boundaries),total:0,items:[]}}search(t,s){var i,n,e=this,o=this.prepareSearch(t,s);return s=o.options,t=o.query,n=s.score||e.getScoreFunction(o),t.length?e.iterator(e.items,function(t,e){i=n(t),(!1===s.filter||0<i)&&o.items.push({score:i,id:e})}):e.iterator(e.items,function(t,e){o.items.push({score:1,id:e})}),(e=e.getSortFunction(o,s))&&o.items.sort(e),o.total=o.items.length,"number"==typeof s.limit&&(o.items=o.items.slice(0,s.limit)),o}}const d="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var o={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,closeAfterSelect:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-control",inputClass:"ts-input",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:null,copyClassesToDropdown:!0,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return 0<t.length},render:{}};function S(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""}function a(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function i(e,s,t){var i,n=e.trigger,o={};for(i in e.trigger=function(){var t=arguments[0];if(-1===s.indexOf(t))return n.apply(e,arguments);o[t]=arguments},t.apply(e,[]),e.trigger=n,o)n.apply(e,o[i])}function m(t,e=!1){t&&(t.preventDefault(),e&&t.stopPropagation())}function g(t,e,s,i){t.addEventListener(e,s,i)}function c(t,e){return e&&e[t]&&1==(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0)}function _(t,e){return t.getAttribute("id")||(t.setAttribute("id",e),e)}function u(s,t){var e,l=Object.assign({},o,t),d=l.dataAttr,c=l.labelField,u=l.valueField,h=l.disabledField,p=l.optgroupField,f=l.optgroupLabelField,m=l.optgroupValueField,i=s.tagName.toLowerCase(),n=s.getAttribute("placeholder")||s.getAttribute("data-placeholder");n||l.allowEmptyOption||(e=s.querySelector('option[value=""]'))&&(n=e.textContent);var g={placeholder:n,options:[],optgroups:[],items:[],maxItems:null};return("select"===i?()=>{var t,n=g.options,o={},i=1,a=t=>{var e=Object.assign({},t.dataset),t=d&&e[d];return e="string"==typeof t&&t.length?Object.assign(e,JSON.parse(t)):e},r=(t,e)=>{var s,i=S(t.value);(i||l.allowEmptyOption)&&(o.hasOwnProperty(i)?e&&((s=o[i][p])?Array.isArray(s)?s.push(e):o[i][p]=[s,e]:o[i][p]=e):((s=a(t))[c]=s[c]||t.textContent,s[u]=s[u]||i,s[h]=s[h]||t.disabled,s[p]=s[p]||e,s.$option=t,o[i]=s,n.push(s),t.selected&&g.items.push(i)))};g.maxItems=s.hasAttribute("multiple")?null:1;for(const l of s.children)"optgroup"===(t=l.tagName.toLowerCase())?(t=>{var e,s;(s=a(t))[f]=s[f]||t.getAttribute("label")||"",s[m]=s[m]||i++,s[h]=s[h]||t.disabled,g.optgroups.push(s),e=s[m];for(const s of t.children)r(s,e)})(l):"option"===t&&r(l)}:()=>{var t,e=s.getAttribute(d);if(e){g.options=JSON.parse(e);for(const s of g.options)g.items.push(s[u])}else{var e=s.value.trim()||"";if(l.allowEmptyOption||e.length){for(const s of e=e.split(l.delimiter))(t={})[c]=s,t[u]=s,g.options.push(t);g.items=e}}})(),Object.assign({},o,g,t)}function v(e){if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(-1<e.indexOf("<")){let t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}return document.querySelector(e)}function n(t,e){var s=document.createEvent("HTMLEvents");s.initEvent(e,!0,!1),t.dispatchEvent(s)}function h(t,e){Object.assign(t.style,e)}function y(t,...e){var s=w(e);(t=D(t)).map(e=>{s.map(t=>{e.classList.add(t)})})}function k(t,...e){var s=w(e);(t=D(t)).map(e=>{s.map(t=>{e.classList.remove(t)})})}function w(t){var e,s=[];for(e of t)"string"==typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(s=s.concat(e));return s.filter(Boolean)}function D(t){return t=!Array.isArray(t)?[t]:t}function b(t,e,s){if(!s||s.contains(t))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}}function O(t,e){return 0<e?t[t.length-1]:t[0]}function M(t,e){if(!t)return-1;e=e||t.nodeName;for(var s=0;t=t.previousElementSibling;)t.matches(e)&&s++;return s}function x(t,e){for(const s in e)t.setAttribute(s,e[s])}var Y,C=0;class t extends(Y=class{constructor(){this._events={}}on(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)}off(t,e){var s=arguments.length;return 0===s?delete this._events:1===s?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))}trigger(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},Y.plugins={},class extends Y{static define(t,e){Y.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,s,i,n=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},Array.isArray(t))for(e=0,s=t.length;e<s;e++)"string"==typeof t[e]?n.push(t[e]):(this.plugins.settings[t[e].name]=t[e].options,n.push(t[e].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(this.plugins.settings[i]=t[i],n.push(i));for(;n.length;)this.require(n.shift())}loadPlugin(t){var e=this.plugins,s=Y.plugins[t];if(!Y.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');e.requested[t]=!0,e.loaded[t]=s.fn.apply(this,[this.plugins.settings[t]||{}]),e.names.push(t)}require(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]}}){constructor(t,e){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.tab_key=!1,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreBlur=!1,this.hasOptions=!1,this.currentResults=null,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.renderCache={item:{},option:{}},C++;var i,n,o,s=v(t);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this,t=(window.getComputedStyle&&window.getComputedStyle(s,null)).getPropertyValue("direction"),this.settings=u(s,e),this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag="select"===s.tagName.toLowerCase(),this.rtl=/rtl/i.test(t),this.inputId=_(s,"tomselect-"+C),this.isRequired=s.required,this.settings.load&&this.settings.loadThrottle&&(this.settings.load=(i=this.settings.load,n=this.settings.loadThrottle,function(t,e){var s=this;o&&(s.loading=Math.max(s.loading-1,0)),clearTimeout(o),o=setTimeout(function(){o=null,s.loadedSearches[t]=!0,i.call(s,t,e)},n)})),this.sifter=new r(this.options,{diacritics:this.settings.diacritics}),this.setupOptions(this.settings.options,this.settings.optgroups),delete this.settings.optgroups,delete this.settings.options,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),"boolean"!=typeof this.settings.hidePlaceholder&&(this.settings.hidePlaceholder="multi"!==this.settings.mode);var a=this.settings.createFilter;"function"!=typeof a&&((a="string"==typeof a?new RegExp(a):a)instanceof RegExp?this.settings.createFilter=t=>a.test(t):this.settings.createFilter=()=>!0),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()}setup(){var t,s,i,n,e,o=this,a=o.settings,r=o.input,l={passive:!0},d=o.inputId+"-ts-dropdown",c=o.settings.mode,u=r.getAttribute("class")||"";if(y(t=v("<div>"),a.wrapperClass,u,c),y(s=v('<div class="items">'),a.inputClass),t.append(s),y(n=o.render("dropdown"),a.dropdownClass,c),y(e=v(`<div style="scroll-behavior: smooth;" role="listbox" id="${d}" tabindex="-1">`),a.dropdownContentClass),n.append(e),v(a.dropdownParent||t).appendChild(n),a.controlInput)i=v(a.controlInput);else{i=v('<input type="text" autocomplete="off" />');for(const t of["autocorrect","autocapitalize","autocomplete"])r.getAttribute(t)&&x(i,{[t]:r.getAttribute(t)})}a.controlInput||(i.tabIndex=r.disabled?-1:o.tabIndex,s.appendChild(i)),x(i,{role:"combobox",haspopup:"listbox","aria-expanded":"false","aria-controls":d});var h,c=_(i,o.inputId+"-tomselected"),d="label[for='"+o.inputId.replace(/['"\\]/g,"\\$&")+"']",d=document.querySelector(d);d&&(x(d,{for:c}),x(e,{"aria-labelledby":_(d,o.inputId+"-ts-label")})),o.settings.copyClassesToDropdown&&y(n,u),t.style.width=r.style.width,o.plugins.names.length&&(h="plugin-"+o.plugins.names.join(" plugin-"),y([t,n],h)),(null===a.maxItems||1<a.maxItems)&&o.is_select_tag&&x(r,{multiple:"multiple"}),o.settings.placeholder&&x(i,{placeholder:a.placeholder}),!o.settings.splitOn&&o.settings.delimiter&&(h=o.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),o.settings.splitOn=new RegExp("\\s*"+h+"+\\s*")),o.control=s,o.control_input=i,o.wrapper=t,o.dropdown=n,o.dropdown_content=e,o.control_input.type=r.type,g(n,"mouseenter",t=>{var e=b(t.target,"[data-selectable]",n);if(e)return o.onOptionHover(t,e)},{capture:!0}),g(s,"mousedown",t=>{if(t.target==i)return o.clearActiveItems(),t.stopPropagation(),void o.inputState();var e=b(t.target,"."+o.settings.itemClass,s);return e?o.onItemSelect(t,e):o.onMouseDown(t)}),g(s,"click",t=>o.onClick(t)),g(i,"keydown",t=>o.onKeyDown(t)),g(i,"keyup",t=>o.onKeyUp(t)),g(i,"keypress",t=>o.onKeyPress(t)),g(i,"resize",()=>o.positionDropdown(),l),g(i,"blur",t=>o.onBlur(t)),g(i,"focus",t=>{o.ignoreBlur=!1,o.onFocus(t)}),g(i,"paste",t=>o.onPaste(t));var p=t=>{var e=b(t.target,"[data-selectable]",o.dropdown);if(!e&&!o.wrapper.contains(t.target))return o.isFocused&&o.blur(),void o.inputState();m(t,!0),e&&o.onOptionSelect(t,e)},f=()=>{o.isOpen&&o.positionDropdown()};g(document,"mousedown",p),g(window,"sroll",f,l),g(window,"resize",f,l),o._destroy=()=>{document.removeEventListener("mousedown",p),window.removeEventListener("sroll",f),window.removeEventListener("resize",f)},this.revertSettings={children:[...r.children],tabIndex:r.tabIndex},r.tabIndex=-1,x(r,{hidden:"hidden"}),r.insertAdjacentElement("afterend",o.wrapper),o.setValue(a.items),delete a.items,g(r,"invalid",t=>{m(t),o.isInvalid||(o.isInvalid=!0,o.refreshState())}),o.updateOriginalInput(),o.refreshItems(),o.refreshState(),o.inputState(),o.isSetup=!0,r.disabled&&o.disable(),o.on("change",this.onChange),y(r,"tomselected"),o.trigger("initialize"),!0===a.preload&&o.load("")}setupOptions(t=[],e=[]){for(const e of t)this.registerOption(e);for(const t of e)this.registerOptionGroup(t)}setupTemplates(){var s=this.settings.labelField,i=this.settings.optgroupLabelField;this.settings.render=Object.assign({},{optgroup:(t,e)=>{let s=document.createElement("div");return s.className="optgroup",s.appendChild(t.options),s},optgroup_header:(t,e)=>'<div class="optgroup-header">'+e(t[i])+"</div>",option:(t,e)=>"<div>"+e(t[s])+"</div>",item:(t,e)=>"<div>"+e(t[s])+"</div>",option_create:(t,e)=>'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>",no_results:(t,e)=>'<div class="no-results">No results found</div>',loading:(t,e)=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>'<div style="display:none"></div>'},this.settings.render)}setupCallbacks(){var t,e,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in s)(e=this.settings[s[t]])&&this.on(t,e)}onClick(t){this.isFocused&&this.isOpen||(this.focus(),m(t))}onMouseDown(t){var e=this;if(e.isFocused)return"single"!==e.settings.mode&&e.setActiveItem(),e.open(),!1;setTimeout(()=>e.focus(),0)}onChange(){n(this.input,"input"),n(this.input,"change")}onPaste(t){var s=this;s.isFull()||s.isInputHidden||s.isLocked?m(t):s.settings.splitOn&&setTimeout(()=>{var t=s.inputValue();if(t.match(s.settings.splitOn)){t=t.trim().split(s.settings.splitOn);for(const e of t)s.createItem(e)}},0)}onKeyPress(t){var e=this;if(!e.isLocked){var s=String.fromCharCode(t.keyCode||t.which);return e.settings.create&&"multi"===e.settings.mode&&s===e.settings.delimiter?(e.createItem(),void m(t)):void 0}m(t)}onKeyDown(t){var e,s=this;if(s.isLocked)9!==t.keyCode&&m(t);else{switch(t.keyCode){case 65:if(c(d,t))return void s.selectAll();break;case 27:return s.isOpen&&(m(t,!0),s.close()),void s.clearActiveItems();case 40:return!s.isOpen&&s.hasOptions?s.open():!s.activeOption||(e=s.getAdjacent(s.activeOption,1))&&s.setActiveOption(e),void m(t);case 38:return!s.activeOption||(e=s.getAdjacent(s.activeOption,-1))&&s.setActiveOption(e),void m(t);case 13:return void(s.isOpen&&s.activeOption&&(s.onOptionSelect(t,s.activeOption),m(t)));case 37:return void s.advanceSelection(-1,t);case 39:return void s.advanceSelection(1,t);case 9:return s.settings.selectOnTab&&s.isOpen&&s.activeOption&&(s.tab_key=!0,s.onOptionSelect(t,s.activeOption),m(t),s.tab_key=!1),void(s.settings.create&&s.createItem()&&m(t));case 8:case 46:return void s.deleteSelection(t)}s.isInputHidden&&!c(d,t)&&m(t)}}onKeyUp(t){var e=this;e.isLocked?m(t):(t=e.inputValue(),e.lastValue!==t&&(e.lastValue=t,e.settings.shouldLoad.call(e,t)&&e.load(t),e.refreshOptions(),e.trigger("type",t)))}onFocus(t){var e=this,s=e.isFocused;if(e.isDisabled)return e.blur(),void m(t);e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.load(""),s||e.trigger("focus"),e.activeItems.length||(e.showInput(),e.setActiveItem(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){var e=this;if(e.isFocused){if(e.isFocused=!1,e.ignoreFocus=!1,!e.ignoreBlur&&document.activeElement===e.dropdown_content)return e.ignoreBlur=!0,void e.onFocus(t);t=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,!1,t):t()}}onOptionHover(t,e){}onOptionSelect(t,e){var s=this;e&&(e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?s.createItem(null,!0,()=>{s.settings.closeAfterSelect&&s.close()}):void 0!==(e=e.dataset.value)&&(s.lastQuery=null,s.addItem(e),s.settings.closeAfterSelect?s.close():!s.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&s.setActiveOption(s.getOption(e)))))}onItemSelect(t,e){this.isLocked||"multi"===this.settings.mode&&(m(t),this.setActiveItem(e,t))}load(t){var s=this,e=s.settings.load;e&&(s.loadedSearches.hasOwnProperty(t)||(y(s.wrapper,s.settings.loadingClass),s.loading++,e.call(s,t,function(t,e){s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(t,e),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||k(s.wrapper,s.settings.loadingClass),s.trigger("load",t,e)})))}onSearchChange(t){this.load(t)}setTextboxValue(t=""){var e=this.control_input;e.value!==t&&(e.value=t,n(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){i(this,e?[]:["change"],()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){this.settings.maxItems=t=0===t?null:t,this.refreshState()}setActiveItem(t,e){var s,i,n,o,a,r=this;if("single"!==r.settings.mode){if(!t)return r.clearActiveItems(),void(r.isFocused&&r.showInput());if("mousedown"===(s=e&&e.type.toLowerCase())&&c("shiftKey",e)&&r.activeItems.length){for(a=r.getLastActive(),(n=Array.prototype.indexOf.call(r.control.children,a))>(o=Array.prototype.indexOf.call(r.control.children,t))&&(a=n,n=o,o=a),i=n;i<=o;i++)t=r.control.children[i],-1===r.activeItems.indexOf(t)&&r.setActiveItemClass(t);m(e)}else"mousedown"===s&&c(d,e)||"keydown"===s&&c("shiftKey",e)?t.classList.contains("active")?r.removeActiveItem(t):r.setActiveItemClass(t):(r.clearActiveItems(),r.setActiveItemClass(t));r.hideInput(),r.isFocused||r.focus()}}setActiveItemClass(t){var e=this.control.querySelector(".last-active");e&&k(e,"last-active"),y(t,"active last-active"),-1==this.activeItems.indexOf(t)&&this.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),k(t,"active")}clearActiveItems(){k(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t){var e,s,i;t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,x(this.control_input,{"aria-activedescendant":t.getAttribute("id")}),x(t,{"aria-selected":"true"}),y(t,"active"),e=this.dropdown_content.clientHeight,s=this.dropdown_content.scrollTop||0,i=this.activeOption.offsetHeight,(t=this.activeOption.getBoundingClientRect().top-this.dropdown_content.getBoundingClientRect().top+s)+i>e+s?this.dropdown_content.scrollTop=t-e+i:t<s&&(this.dropdown_content.scrollTop=t)))}clearActiveOption(){this.activeOption&&(k(this.activeOption,"active"),this.activeOption.removeAttribute("aria-selected")),this.activeOption=null,this.control_input.removeAttribute("aria-activedescendant")}selectAll(){"single"!==this.settings.mode&&(this.activeItems=this.controlChildren(),this.activeItems.length&&(y(this.activeItems,"active"),this.hideInput(),this.close()),this.focus())}inputState(){var t=this;t.settings.controlInput||(0<t.activeItems.length||!t.isFocused&&this.settings.hidePlaceholder&&0<t.items.length?(t.setTextboxValue(),t.isInputHidden=!0,y(t.wrapper,"input-hidden")):(t.isInputHidden=!1,k(t.wrapper,"input-hidden")))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.control_input.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.control_input.blur(),this.onBlur(null)}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t,e=this.settings;return"string"==typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(t){var e,s,i,n=this,o=n.settings,a=this.getSearchOptions();if(o.score&&"function"!=typeof(i=n.settings.score.call(n,t)))throw new Error('Tom Select "score" setting must be a function that returns a function');if(t!==n.lastQuery?(n.lastQuery=t,s=n.sifter.search(t,Object.assign(a,{score:i})),n.currentResults=s):s=Object.assign({},n.currentResults),o.hideSelected)for(e=s.items.length-1;0<=e;e--)-1!==n.items.indexOf(S(s.items[e].id))&&s.items.splice(e,1);return s}refreshOptions(t=!0){var i,n,o,a,r,l,e,s,d,c,u,h,p,f,m=this,g=m.inputValue(),_=m.search(g),v=m.activeOption&&S(m.activeOption.dataset.value),y=m.settings.shouldOpen||!1,w=_.items.length;for(0<(w="number"==typeof m.settings.maxOptions?Math.min(w,m.settings.maxOptions):w)&&(y=!0),c={},a=[],i=0;i<w;i++){let t=m.options[_.items[i].id],e=S(t[m.settings.valueField]),s=m.getOption(e);for(s=s||m.render("option",t),m.settings.hideSelected||s.classList.toggle("selected",m.items.includes(e)),r=t[m.settings.optgroupField]||"",n=0,o=(l=Array.isArray(r)?r:[r])&&l.length;n<o;n++)r=l[n],m.optgroups.hasOwnProperty(r)||(r=""),c.hasOwnProperty(r)||(c[r]=document.createDocumentFragment(),a.push(r)),0<n&&(s=s.cloneNode(!0),k(s,"active"),s.removeAttribute("aria-selected")),c[r].appendChild(s)}for(r of(this.settings.lockOptgroupOrder&&a.sort((t,e)=>(m.optgroups[t]&&m.optgroups[t].$order||0)-(m.optgroups[e]&&m.optgroups[e].$order||0)),e=document.createDocumentFragment(),a))if(m.optgroups.hasOwnProperty(r)&&c[r].children.length){let t=document.createDocumentFragment();t.appendChild(m.render("optgroup_header",m.optgroups[r])),t.appendChild(c[r]);var D=m.render("optgroup",{group:m.optgroups[r],options:t});e.appendChild(D)}else e.appendChild(c[r]);if(m.dropdown_content.innerHTML="",m.dropdown_content.appendChild(e),m.settings.highlight&&(m.dropdown_content,u=document.querySelectorAll("span.highlight"),Array.prototype.forEach.call(u,function(t,e){var s=t.parentNode;s.replaceChild(t.firstChild,t),s.normalize()}),_.query.length&&_.tokens.length))for(const t of _.tokens)h=m.dropdown_content,p=t.regex,f=void 0,"string"==typeof p&&!p.length||(f="string"==typeof p?new RegExp(p,"i"):p,function t(e){var s=0;if(3===e.nodeType){var i,n,o=e.data.search(f);0<=o&&0<e.data.length&&(n=e.data.match(f),(i=document.createElement("span")).className="highlight",(o=e.splitText(o)).splitText(n[0].length),n=o.cloneNode(!0),i.appendChild(n),o.parentNode.replaceChild(i,o),s=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var a=0;a<e.childNodes.length;++a)a+=t(e.childNodes[a]);return s}(h));var b=t=>{t=m.render(t,{input:g});return t&&(y=!0,m.dropdown_content.insertBefore(t,m.dropdown_content.firstChild)),t};if(m.settings.shouldLoad.call(m,g)?m.loading?b("loading"):0===_.items.length&&b("no_results"):b("not_loading"),(u=m.canCreate(g))&&(d=b("option_create")),m.hasOptions=0<_.items.length||u,y){if(0<_.items.length){if(!(s=v&&m.getOption(v))||!m.dropdown_content.contains(s)){let t=0;d&&!m.settings.addPrecedence&&(t=1),s=m.selectable()[t]}}else s=d;m.setActiveOption(s),t&&!m.isOpen&&m.open()}else m.clearActiveOption(),t&&m.isOpen&&m.close()}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t){var e,s=this;if(Array.isArray(t))for(const e of t)s.addOption(e);else(e=s.registerOption(t))&&(s.userOptions[e]=!0,s.lastQuery=null,s.trigger("option_add",e,t))}registerOption(t){var e=S(t[this.settings.valueField]);return null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,t.$id=this.inputId+"-opt-"+Object.keys(this.options).length,this.options[e]=t,e)}registerOptionGroup(t){var e=S(t[this.settings.optgroupValueField]);return null!==e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){var s,i,n,o=this;if(t=S(t),s=S(e[o.settings.valueField]),null!==t&&o.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");n=o.options[t].$order,s!==t&&(delete o.options[t],-1!==(i=o.items.indexOf(t))&&o.items.splice(i,1,s)),e.$order=e.$order||n,o.options[s]=e,i=o.renderCache.item,n=o.renderCache.option,i&&(delete i[t],delete i[s]),n&&(delete n[t],delete n[s]),-1!==o.items.indexOf(s)&&(t=o.getItem(t),e=o.render("item",e),t.classList.contains("active")&&y(e,"active"),t.parentNode.insertBefore(e,t),t.remove()),o.lastQuery=null,o.isOpen&&o.refreshOptions(!1)}}removeOption(t,e){var s=this;t=S(t);var i=s.renderCache.item,n=s.renderCache.option;i&&delete i[t],n&&delete n[t],delete s.userOptions[t],delete s.options[t],s.lastQuery=null,s.trigger("option_remove",t),s.removeItem(t,e)}clearOptions(){this.loadedSearches={},this.userOptions={},this.clearCache();var t,e={};for(t in this.options)this.options.hasOwnProperty(t)&&0<=this.items.indexOf(t)&&(e[t]=this.options[t]);this.options=this.sifter.items=e,this.lastQuery=null,this.trigger("option_clear")}getOption(t){return this.renderCache.option.hasOwnProperty(t)?this.renderCache.option[t]:this.getElementWithValue(t,this.selectable())}getAdjacent(t,e,s="option"){var i,n=t;if(t){i="item"==s?this.settings.itemClass:this.settings.optionClass;do{if((n=0<e?n.nextSibling:n.previousSibling)&&n.classList.contains(i))return n}while(n)}}getElementWithValue(e,t){if(null!==(e=S(e)))for(const s of t){let t=s;if(t.getAttribute("data-value")===e)return t}}getItem(t){return this.getElementWithValue(t,this.control.children)}addItems(t,s){this.buffer=document.createDocumentFragment();for(const e of this.control.children)this.buffer.appendChild(e);var i=Array.isArray(t)?t:[t];for(let t=0,e=i.length;t<e;t++)this.isPending=t<e-1,this.addItem(i[t],s);t=this.control;t.insertBefore(this.buffer,t.firstChild),this.buffer=null}addItem(a,r){i(this,r?[]:["change"],()=>{var t,e,s,i,n=this,o=n.settings.mode;a=S(a),-1!==n.items.indexOf(a)&&("single"===o&&n.close(),"single"===o||!n.settings.duplicates)||!n.options.hasOwnProperty(a)||("single"===o&&n.clear(r),"multi"===o&&n.isFull())||(i=n.render("item",n.options[a]),n.control.contains(i)&&(i=i.cloneNode(!0)),t=n.isFull(),n.items.splice(n.caretPos,0,a),n.insertAtCaret(i),n.isSetup&&(e=n.selectable(),n.isPending||(s=n.getOption(a),s=n.getAdjacent(s,1),n.refreshOptions(n.isFocused&&"single"!==o),s&&n.setActiveOption(s)),!e.length||n.isFull()?n.close():n.isPending||n.positionDropdown(),n.trigger("item_add",a,i),n.isPending||n.updateOriginalInput({silent:r})),n.isPending&&(t||!n.isFull())||n.refreshState())})}removeItem(t,e){var s,i,n=this,o=n.getItem(t);o&&(t=S(o.dataset.value),-1!==(s=n.items.indexOf(t))&&(o.remove(),o.classList.contains("active")&&(i=n.activeItems.indexOf(o),n.activeItems.splice(i,1),k(o,"active")),n.items.splice(s,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(t)&&n.removeOption(t,e),s<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:e}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",t,o)))}createItem(t,s=!0,i){var n=this,o=n.caretPos;if(t=t||n.inputValue(),"function"!=typeof i&&(i=()=>{}),!n.canCreate(t))return i(),!1;n.lock();var a=!1,e=t=>{if(n.unlock(),!t||"object"!=typeof t)return i();var e=S(t[n.settings.valueField]);if("string"!=typeof e)return i();n.setTextboxValue(),n.addOption(t),n.setCaret(o),n.addItem(e),n.refreshOptions(s&&"single"!==n.settings.mode),i(t),a=!0},t="function"==typeof n.settings.create?n.settings.create.call(this,t,e):{[n.settings.labelField]:t,[n.settings.valueField]:t};return a||e(t),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){var t=this;t.refreshValidityState();var e=t.isFull(),s=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);var i=t.control.classList;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("required",t.isRequired),i.toggle("invalid",t.isInvalid),i.toggle("locked",s),i.toggle("full",e),i.toggle("not-full",!e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",(e=t.options,0===Object.keys(e).length)),i.toggle("has-items",0<t.items.length)}refreshValidityState(){var t,e=this;e.input.checkValidity&&(this.isRequired&&(e.input.required=!0),t=!e.input.checkValidity(),e.isInvalid=t,e.control_input.required=t,this.isRequired&&(e.input.required=!t))}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){var e,s,i=this;i.is_select_tag?(e=[],i.input.querySelectorAll("option").forEach(function(t){e.push(t.value),-1==i.items.indexOf(t.value)?t.selected=!1:t.selected=!0}),i.items.forEach(function(t){-1==e.indexOf(t)&&(s=i.options[t][i.settings.labelField]||"",i.input.innerHTML+='<option value="'+a(t)+'" selected="selected">'+a(s)+"</option>")})):i.input.value=i.getValue(),i.isSetup&&(t.silent||i.trigger("change",i.getValue()))}open(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.isOpen=!0,x(t.control_input,{"aria-expanded":"true"}),t.refreshState(),h(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),h(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.tab_key||t.blur()),t.isOpen=!1,x(t.control_input,{"aria-expanded":"false"}),h(t.dropdown,{display:"none"}),t.clearActiveOption(),t.refreshState(),t.setTextboxValue(),e&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){var t,e,s;"body"===this.settings.dropdownParent&&(t=(s=this.control).getBoundingClientRect(),e=s.offsetHeight+t.top+window.scrollY,s=t.left+window.scrollX,h(this.dropdown,{width:t.width+"px",top:e+"px",left:s+"px"}))}clear(t){var e=this;if(e.items.length){for(const t of e.controlChildren())t.remove();e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear")}}insertAtCaret(t){var e=this,s=Math.min(e.caretPos,e.items.length),i=e.buffer||e.control;0===s?i.insertBefore(t,i.firstChild):i.insertBefore(t,i.children[s]),e.setCaret(s+1)}deleteSelection(t){var e,s=this,i=t&&8===t.keyCode?-1:1,n={start:(n=s.control_input).selectionStart,length:n.selectionEnd-n.selectionStart},o=[];if(s.activeItems.length){e=M(O(s.activeItems,i)),0<i&&e++;for(const t of s.activeItems)o.push(t.dataset.value)}else(s.isFocused||"single"===s.settings.mode)&&s.items.length&&(i<0&&0===n.start&&0===n.length?o.push(s.items[s.caretPos-1]):0<i&&n.start===s.inputValue().length&&o.push(s.items[s.caretPos]));if(!o.length||"function"==typeof s.settings.onDelete&&!1===s.settings.onDelete.call(s,o,t))return!1;for(m(t,!0),void 0!==e&&s.setCaret(e);o.length;)s.removeItem(o.pop());return s.showInput(),s.positionDropdown(),s.refreshOptions(!1),!0}advanceSelection(t,e){var s,i=this;i.rtl&&(t*=-1),i.inputValue().length||(c(d,e)||c("shiftKey",e)?(e=(s=i.getLastActive(t))?s.classList.contains("active")?i.getAdjacent(s,t,"item"):s:0<t?i.control_input.nextElementSibling:i.control_input.previousElementSibling)&&(e.classList.contains("active")&&i.removeActiveItem(s),i.setActiveItemClass(e)):i.isFocused&&!i.activeItems.length?i.setCaret(i.caretPos+t):(s=i.getLastActive(t))&&(s=M(s),i.setCaret(0<t?s+1:s),i.setActiveItem()))}getLastActive(t){var e=this.control.querySelector(".last-active");if(e)return e;e=this.control.querySelectorAll(".active");return e?O(e,t):void 0}setCaret(t){var e=this;if("single"===e.settings.mode||e.settings.controlInput)t=e.items.length;else if((t=Math.max(0,Math.min(e.items.length,t)))!=e.caretPos&&!e.isPending){var s,i=e.controlChildren();for(s in i)s<t?e.control_input.insertAdjacentElement("beforebegin",i[s]):e.control.appendChild(i[s])}e.caretPos=t}controlChildren(){return[...this.control.getElementsByClassName(this.settings.itemClass)]}lock(){this.close(),this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var t=this;t.input.disabled=!0,t.control_input.disabled=!0,t.control_input.tabIndex=-1,t.isDisabled=!0,t.lock()}enable(){var t=this;t.input.disabled=!1,t.control_input.disabled=!1,t.control_input.tabIndex=t.tabIndex,t.isDisabled=!1,t.unlock()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML="",t.input.tabIndex=e.tabIndex,k(t.input,"tomselected"),t.input.removeAttribute("hidden"),t.input.required=this.isRequired;for(const s of e.children)t.input.appendChild(s);t._destroy(),delete t.input.tomselect}render(t,e){var s,i=this;if(("option"===t||"item"===t)&&(s=S(e[i.settings.valueField]),i.renderCache[t].hasOwnProperty(s)))return i.renderCache[t][s];var n=i.settings.render[t];return"function"!=typeof n?null:((n=n.call(this,e,a))&&(n=v(n),"option"===t||"option_create"===t?e[i.settings.disabledField]?x(n,{"aria-disabled":"true"}):x(n,{"data-selectable":""}):"optgroup"===t&&(x(n,{"data-group":e.group[i.settings.optgroupValueField]}),e.group[i.settings.disabledField]&&x(n,{"data-disabled":""})),"option"!==t&&"item"!==t||(x(n,{"data-value":s}),"item"===t?y(n,i.settings.itemClass):(y(n,i.settings.optionClass),x(n,{role:"option",id:e.$id})),i.renderCache[t][s]=n)),n)}clearCache(t){void 0===t?this.renderCache={item:{},option:{}}:this.renderCache[t]={}}canCreate(t){return this.settings.create&&t.length&&this.settings.createFilter.call(this,t)}hook(s,t,i){var n=this,o=n[t];n[t]=function(){var t,e;return"after"===s&&(t=o.apply(n,arguments)),e=i.apply(n,arguments),"instead"===s?e:t="before"===s?o.apply(n,arguments):t}}}return t.define("change_listener",function(t){var e=this,s=!1;g(e.input,"change",()=>{var t;s?s=!1:(s=!0,t=u(e.input,{}),e.setupOptions(t.options,t.optgroups),e.setValue(t.items))})}),t.define("checkbox_options",function(t){var n=this,s=n.onOptionSelect;n.settings.hideSelected=!1;function i(t){var e=t.querySelector("input");t.classList.contains("selected")?e.checked=!0:e.checked=!1}n.hook("after","setupTemplates",()=>{var i=n.settings.render.option;n.settings.render.option=function(t){var e=v(i.apply(n,arguments)),s=document.createElement("input");s.addEventListener("click",function(t){m(t)}),s.type="checkbox";t=S(t[n.settings.valueField]);return-1<n.items.indexOf(t)&&(s.checked=!0),e.prepend(s),e}}),n.on("item_remove",t=>{t=n.getOption(t);t&&(t.classList.remove("selected"),i(t))}),n.hook("instead","onOptionSelect",function(t,e){return e.classList.contains("selected")?(e.classList.remove("selected"),n.removeItem(e.dataset.value),n.refreshOptions(),void m(t,!0)):s.apply(n,arguments)}),n.hook("after","onOptionSelect",(t,e)=>{i(e)})}),t.define("clear_button",function(e){var s=this;e=Object.assign({className:"clear-button",title:"Clear All",html:t=>`<div class="${t.className}" title="${t.title}">&times;</div>`},e),s.hook("after","setup",()=>{var t=v(e.html(e));t.addEventListener("click",t=>{for(;0<s.items.length;)s.removeItem(s.items[0]);t.preventDefault(),t.stopPropagation()}),s.control.appendChild(t)})}),t.define("drag_drop",function(t){var e,s,i=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');"multi"===i.settings.mode&&(e=i.lock,s=i.unlock,i.hook("instead","lock",function(){var t=i.control.dataset.sortable;return t&&t.disable(),e.apply(i,arguments)}),i.hook("instead","unlock",function(){var t=i.control.dataset.sortable;return t&&t.enable(),s.apply(i,arguments)}),i.hook("after","setup",()=>{var s=$(i.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:(t,e)=>{e.placeholder.css("width",e.helper.css("width")),s.css({overflow:"visible"})},stop:()=>{s.css({overflow:"hidden"});var t=[];s.children("[data-value]").each(function(){t.push($(this).attr("data-value"))}),i.setValue(t)}})}))}),t.define("dropdown_header",function(s){var i=this;s=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:t=>'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a class="'+t.closeClass+'">&times;</a></div></div>'},s),i.hook("after","setup",()=>{var t=v(s.html(s)),e=t.querySelector("."+s.closeClass);e&&e.addEventListener("click",t=>{m(t,!0),i.close()}),i.dropdown.insertBefore(t,i.dropdown.firstChild)})}),t.define("dropdown_input",function(){var e=this,s=v(s=e.settings.controlInput||'<input type="text" autocomplete="off" class="dropdown-input" />');e.settings.placeholder&&x(s,{placeholder:e.settings.placeholder}),e.settings.controlInput=s,e.settings.shouldOpen=!0,e.hook("after","setup",()=>{x(e.wrapper,{tabindex:e.input.disabled?"-1":e.tabIndex}),g(e.wrapper,"keypress",t=>{if(!e.control.contains(t.target)&&!e.dropdown.contains(t.target)&&13===t.keyCode)e.onClick(t)});let t=v('<div class="dropdown-input-wrap">');t.appendChild(s),e.dropdown.insertBefore(t,e.dropdown.firstChild)})}),t.define("input_autogrow",function(){var i=this;i.hook("after","setup",()=>{var t=document.createElement("span"),e=this.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",i.wrapper.appendChild(t);for(const i of["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"])t.style[i]=e.style[i];var s=()=>{0<this.items.length?(t.textContent=e.value,e.style.width=t.clientWidth+"px"):e.style.width=""};s(),this.on("update item_add item_remove",s),g(e,"input",s),g(e,"keyup",s),g(e,"blur",s),g(e,"update",s)})}),t.define("no_backspace_delete",function(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",function(){return!!t.activeItems.length&&e.apply(t,arguments)})}),t.define("no_active_items",function(t){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}),t.define("optgroup_columns",function(){var n=this,o=n.onKeyDown;n.hook("instead","onKeyDown",function(t){var e,s,i;return!n.isOpen||37!==t.keyCode&&39!==t.keyCode?o.apply(n,arguments):(i=b(n.activeOption,"[data-group]"),e=M(n.activeOption,"[data-selectable]"),void((i=37===t.keyCode?i.previousSibling:i.nextSibling)&&(s=(s=i.querySelectorAll("[data-selectable]"))[Math.min(s.length-1,e)])&&n.setActiveOption(s)))})}),t.define("remove_button",function(t){t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i,n=this;t.append&&(i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+a(t.title)+'">'+t.label+"</a>",n.hook("after","setupTemplates",()=>{var s=n.settings.render.item;n.settings.render.item=function(){var e=v(s.apply(n,arguments)),t=v(i);return e.appendChild(t),g(t,"mousedown",t=>{m(t,!0)}),g(t,"click",t=>{m(t,!0),n.isLocked||(t=e.dataset.value,n.removeItem(t),n.refreshOptions(!1))}),e}}))}),t.define("restore_on_backspace",function(e){var s=this;e.text=e.text||function(t){return t[s.settings.labelField]},s.on("item_remove",function(t){""!==s.control_input.value.trim()||(t=s.options[t])&&s.setTextboxValue(e.text.call(s,t))})}),t});var tomSelect=function(t,e){return new TomSelect(t,e)};const search_form=document.querySelector(".search-form form"),search_input=search_form.querySelector("input");search_form.addEventListener("submit",t=>{let e=t.target.closest(".search-form");""===e.querySelector("input").value&&(t.preventDefault(),e.classList.add("search-form_focus"),e.querySelector("input").focus())}),search_input.addEventListener("blur",e=>{if(""===e.target.value){let t=e.target.closest(".search-form");t.classList.remove("search-form_focus")}});const mobile_button=document.querySelector(".header__mobile-button");mobile_button.addEventListener("click",function(t){t.target.closest(".header").classList.toggle("header_open")});let footer_dropdown=document.querySelector(".footer__dropdown");footer_dropdown.addEventListener("click",function(t){t.stopPropagation(),t.target.closest(".footer__dropdown").classList.toggle("footer__dropdown_opened")}),document.addEventListener("click",function(){footer_dropdown.classList.remove("footer__dropdown_opened")});let tabs_block=document.querySelectorAll(".tabs");tabs_block.forEach(t=>{let i=t.querySelectorAll(".tabs .tabs__nav__item"),n=t.querySelectorAll(".tabs .tabs__content__item");i.forEach((t,s)=>{0===s&&t.classList.add("tabs__nav__item_active"),t.addEventListener("click",t=>{n.forEach((t,e)=>{e===s?(i[e].classList.add("tabs__nav__item_active"),n[e].classList.add("tabs__content__item_active")):(i[e].classList.remove("tabs__nav__item_active"),n[e].classList.remove("tabs__content__item_active"))})})})}),document.querySelectorAll(".number-control").forEach(s=>{s.addEventListener("click",t=>{let e=s.querySelector("input");t.target.classList.contains("number-control__button")&&(t=t.target.classList.contains("minus")?-1:1,e.value=+e.value+t)})}),document.querySelectorAll(".datepicker").forEach(t=>{let e,s=new Lightpick({field:t,lang:"en",startDate:new Date,onSelect:t=>{e.innerHTML=t.format("D MMM YYYY")},onClose:()=>{e.innerHTML=s.getStartDate().format("D MMM YYYY"),e.classList.remove("calculator__form__control_focus")},onOpen:()=>{let t=s._opts.field.closest(".calculator__form__col");e=t.querySelector(".calculator__form__control"),e.classList.add("calculator__form__control_focus")}});s.show(),s.hide()}),document.querySelectorAll(".form-select").forEach(t=>{new TomSelect(t,{allowEmptyOption:!0,copyClassesToDropdown:!1,searchField:!1})});let calculator=document.querySelector("#calculator");calculator.addEventListener("submit",t=>{t.preventDefault();t=serialize(t.target);console.log(t)}),serialize=t=>{let e={};return t.querySelectorAll("[name]").forEach(t=>{e[t.attributes.name.value]=t.value}),e};